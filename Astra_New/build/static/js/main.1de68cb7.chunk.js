(this.webpackJsonpastra=this.webpackJsonpastra||[]).push([[0],{17:function(e,t,s){},6:function(e,t){t.loginAPI="/api/login",t.logoutAPI="/api/logout",t.floorMap="/api/uploadmap",t.masterGateway="/api/gateway/master",t.slaveGateway="/api/gateway/slave",t.tempertureSensor="/api/sensor/temperaturehumidity",t.dailySensorData="/api/sensor/dailydata?macaddress=",t.weeklySensorData="/api/sensor/weeklydata?macaddress=",t.monthlySensorData="/api/sensor/monthlydata?macaddress=",t.irqSensor="/api/sensor/iaq",t.dailyIAQData="/api/sensor/dailyiaqdata",t.weeklyIAQData="/api/sensor/weeklyiaqdata",t.monthlyIAQData="/api/sensor/monthlyiaqdata",t.sensors_details_macIds="/api/sensor/multi",t.sensors_details_macId_details="/api/sensor/multidetails",t.signalRepeator="/api/signalrepeator",t.zoneConfiguration="/api/zones",t.zoneTrakcing="/api/zonetracking",t.zoneWeeklyTracking="/api/weeklyzonetracking",t.zoneMontylyTracking="/api/monthlyzonetracking",t.employeeTag="/api/employee/tags",t.employeeRegistration="/api/employee/registration",t.employeeTracking="/api/employee/tracking",t.employeeDistance="/api/employee/distance",t.alertData="/api/alerts"},63:function(e,t,s){},83:function(e,t,s){},84:function(e,t,s){},94:function(e,t,s){},95:function(e,t,s){"use strict";s.r(t);var a=s(3),n=s.n(a),i=s(52),r=s.n(i),l=s(9),o=s(4),c=s(5),d=s(7),p=s(8),h=s(13),u=s(18),m=s(19),g=s(10),j=(s(63),s(17),s(2)),b=s.n(j),x=s(6),f=s(0);b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var y=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).toggle=function(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"},e.handleChanges=function(t){e.setState(Object(m.a)({},t.target.name,t.target.value))},e.login=function(t){t.preventDefault(),b()({method:"POST",url:x.loginAPI,data:e.state}).then((function(t){200!==t.status&&201!==t.status||(sessionStorage.setItem("isLoggedIn",1),e.props.handleLogin(1))})).catch((function(e){document.getElementById("err").innerHTML="Request Failed."}))},e.state={username:"",password:""},e}return Object(c.a)(s,[{key:"render",value:function(){var e=this.state,t=e.username,s=e.password;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Login"})}),Object(f.jsx)("div",{className:"main-div",children:Object(f.jsx)("div",{className:"div-section fading",children:Object(f.jsxs)("div",{style:{backgroundColor:"rgb(153, 204, 204, 40%)",borderRadius:"8px",width:"90%",padding:"10%",boxShadow:"12px 12px 16px 0 rgba(0, 0, 0, 0.25), -12px -12px 16px 0 rgba(0, 0, 0, 0.03)"},children:[Object(f.jsx)("img",{src:"../images/Tiles/Logo.png",alt:"",style:{width:"50%",height:"7%",margin:"0% 0% 18% 0%",display:"block"}}),Object(f.jsx)("img",{src:"../images/Tiles/Login.png",alt:"",style:{width:"35%",height:"13%",marginBottom:"10%",display:"block"}}),Object(f.jsxs)("form",{children:[Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"text",name:"username",placeholder:"Username",required:"required",value:t,style:{width:"100%",height:"5.5vh"},onChange:this.handleChanges})}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Password",required:"required",autoComplete:"off",value:s,style:{width:"100%",height:"5.5vh"},onChange:this.handleChanges})}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{type:"checkbox",title:"Show password",onClick:this.toggle}),Object(f.jsx)("span",{style:{fontSize:"15px",color:"gray"},children:"Show Password"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("button",{className:"btn success-btn",onClick:this.login,style:{width:"100%",height:"5.9vh"},children:"LOGIN"})}),Object(f.jsx)("span",{className:"error-msg",id:"err"})]})]})})})]})}}]),s}(a.Component),O=(s(83),{opacity:"0.6",width:"35px",float:"right",marginRight:"30px",cursor:"pointer"}),v=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).logout=function(){b()({method:"GET",url:x.logoutAPI}).then((function(t){sessionStorage.clear("isLoggedIn"),e.props.handleLogin(0)})).catch((function(t){403===t.response.status&&(sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0))}))},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(f.jsx)(a.Fragment,{children:Object(f.jsx)("div",{className:"navbar",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Logo.png"}),Object(f.jsx)("img",{alt:"",src:"../images/Icons/Icon_Logout.png",style:O,title:"Logout",onClick:this.logout,className:"logoutImg"})]})})})}}]),s}(a.Component),N=v,k=(s(84),{margin:"40px 0px"}),w={backgroundColor:"rgba(2,167,140,0.2)"};function T(e){var t=document.getElementsByClassName("linkImg");t[0].style.backgroundColor="",t[1].style.backgroundColor="",t[2].style.backgroundColor="",t[3].style.backgroundColor="",t[4].style.backgroundColor="",t[5].style.backgroundColor="",t[6].style.backgroundColor="",t[e].style.backgroundColor="rgba(2,167,140,0.2)"}var C=function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("div",{className:"sidebar",children:[Object(f.jsx)(h.b,{to:"/home",children:Object(f.jsx)("div",{style:k,children:Object(f.jsx)("img",{alt:"",src:"../images/Icons/Icon_Home.png",title:"Home",onClick:function(){return T(0)},className:"linkImg",style:w})})}),Object(f.jsx)(h.b,{to:"/tracking",children:Object(f.jsx)("div",{children:Object(f.jsx)("img",{alt:"",src:"../images/Icons/Icon_Tracking.png",title:"Realtime Tracking",onClick:function(){return T(1)},className:"linkImg"})})}),Object(f.jsx)(h.b,{to:"/distanceTracking",children:Object(f.jsx)("div",{children:Object(f.jsx)("img",{alt:"",src:"../images/Icons/ContactTracing.png",title:"Contact Tracing",onClick:function(){return T(2)},className:"linkImg"})})}),Object(f.jsx)(h.b,{to:"/dailyreport",children:Object(f.jsx)("div",{children:Object(f.jsx)("img",{alt:"",src:"../images/Icons/Icon_Reports.png",title:"Reports",onClick:function(){return T(3)},className:"linkImg"})})}),Object(f.jsx)(h.b,{to:"/thermalmap",children:Object(f.jsx)("div",{children:Object(f.jsx)("img",{alt:"",src:"../images/Icons/Icon_Temperature.png",title:"Thermal Environment",onClick:function(){return T(4)},className:"linkImg"})})}),Object(f.jsx)(h.b,{to:"/airquality",children:Object(f.jsx)("div",{children:Object(f.jsx)("img",{alt:"",src:"../images/Icons/AirQualityIcon.png",title:"Air Quality Parameters",onClick:function(){return T(5)},className:"linkImg"})})}),Object(f.jsx)(h.b,{to:"/alerts",children:Object(f.jsx)("div",{children:Object(f.jsx)("img",{alt:"",src:"../images/Icons/Icon_Alerts.png",title:"Alerts",onClick:function(){return T(6)},className:"linkImg"})})})]})})},I={width:"85%",height:"85%",margin:"0px",padding:"0px"},S={width:"75px",height:"9px",position:"absolute"},D=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){T(0)}},{key:"render",value:function(){return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Home"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"HOME"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:S}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"50px"},children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("span",{className:"heading",children:"Configuration"}),Object(f.jsx)("br",{}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/configuration",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_Config.png",style:I,className:"fading"})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/uploadmap",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_Upload.png",style:I,className:"fading"})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/assets",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_Assets.png",style:I,className:"fading"})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/zoneconfig",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/ZoneConfig.png",style:I,className:"fading"})})})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("span",{className:"heading",children:"Personnel Management"}),Object(f.jsx)("br",{}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/employeeRegistration",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/EmployeeRegistration.png",style:I,className:"fading"})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/tagAllocation",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/TagAllocation.png",style:I,className:"fading"})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/tracking",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_Realtime.png",style:I,className:"fading",onClick:function(){return T(1)}})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/distanceTracking",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/ContactTracing.png",style:I,className:"fading",onClick:function(){return T(2)}})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/dailyreport",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_Reports.png",style:I,className:"fading",onClick:function(){return T(3)}})})})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("span",{className:"heading",children:"Environment Management"}),Object(f.jsx)("br",{}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/thermalmap",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_ThermalMap.png",style:I,className:"fading",onClick:function(){return T(4)}})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/airquality",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/AirQualityParamters.png",style:I,className:"fading",onClick:function(){return T(5)}})})})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("span",{className:"heading",children:"System"}),Object(f.jsx)("br",{}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/systemhealth",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_Syshealth.png",style:I,className:"fading"})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/alerts",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_Alert.png",style:I,className:"fading",onClick:function(){return T(6)}})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/sensordetails",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_Sensors.png",style:I,className:"fading"})})}),Object(f.jsx)("div",{className:"col-4",children:Object(f.jsx)(h.b,{to:"/vehicle",children:Object(f.jsx)("img",{alt:"",src:"../images/Widgets/Widget_Vehicle.png",style:I,className:"fading"})})})]})]})]})]})}}]),s}(a.Component),M=D,E=s(1),P=s.n(E);b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var A=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){b()({method:"GET",url:x.floorMap}).then((function(t){if(201===t.status||200===t.status)if(e.fdata=t.data,0!==e.fdata.length)for(var s=0;s<e.fdata.length;s++)P()("#fname").append("<option value="+e.fdata[s].id+">"+e.fdata[s].name+"</option>"),P()("#fname1").append("<option value="+e.fdata[s].id+">"+e.fdata[s].name+"</option>");else P()("#master-error").text("Please upload floormap to register Master Gateway.");else P()("#master-error").text("Unable to fetch floor names")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#master-error").text("Request Failed with status code ("+e.response.status+").")}))},e.displayTrackingForm=function(){var t=P()("#type").val();e.setState({type:t}),"Temperature/Humidity Sensor"===t?P()("#temp_form").css("display","block"):P()("#temp_form").css("display","none"),"IAQ Sensor"===t?P()("#iaq_form").css("display","block"):P()("#iaq_form").css("display","none")},e.show=function(){P()("input[type=text]").val(""),P()("input[type=email]").val(""),document.getElementById("delete-form").style.display="none"===P()("#delete-form").css("display")?"block":"none",window.scrollTo(0,document.body.scrollHeight)},e.hide=function(){P()("#conf-error").text(""),P()("#conf-success").text("")},e.register=function(t){e.hide(),t.preventDefault(),P()("#delete-form").css("display","none");var s={};0===P()("#tagid").val().length?P()("#conf-error").text("Please enter tag MAC ID."):P()("#tagid").val().match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")?"Temperature/Humidity Sensor"===P()("#type").val()?""!==(s={macaddress:P()("#tagid").val(),x1:P()("#x").val(),y1:P()("#y").val(),x2:P()("#x1").val(),y2:P()("#y1").val(),id:P()("#fname").val()}).x1&&""!==s.y1&&""!==s.x2&&""!==s.y2&&""!==s.id?b()({method:"POST",url:x.tempertureSensor,data:s}).then((function(e){201===e.status?P()("#conf-success").text("Temperature-Humidity Sensor is registered successfully."):P()("#conf-error").text("Unable to register sensor.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):400===e.response.status?P()("#conf-error").text("Tag is already registered."):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")})):P()("#conf-error").text("Please provide all information."):"IAQ Sensor"===P()("#type").val()?""!==(s={macaddress:P()("#tagid").val(),x:P()("#xval").val(),y:P()("#yval").val(),id:P()("#fname1").val()}).x&&""!==s.y&&""!==s.id?b()({method:"POST",url:x.irqSensor,data:s}).then((function(e){201===e.status?P()("#conf-success").text("IAQ sensor registered successfully."):P()("#conf-error").text("Unable to Register Tag.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):400===e.response.status?P()("#conf-error").text("Tag is already registered."):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")})):P()("#conf-error").text("Please provide all information."):"Employee"===P()("#type").val()?(s={macaddress:P()("#tagid").val()},b()({method:"POST",url:x.employeeTag,data:s}).then((function(e){201===e.status||200===e.status?P()("#conf-success").text("Employee Tag registered successfully."):P()("#conf-error").text("Unable to Register Tag.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):400===e.response.status?P()("#conf-error").text("Employee Tag is already registered."):P()("#conf-error").text("Request Failed with status code ("+e.response.status+") : Employee Tag")}))):(s={macaddress:P()("#tagid").val()},b()({method:"POST",url:x.signalRepeator,data:s}).then((function(e){201===e.status||200===e.status?P()("#conf-success").text("Signal Repeater is registered successfully."):P()("#conf-error").text("Unable to Register Asset.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):400===e.response.status?P()("#conf-error").text("Signal Repeater is already registered."):P()("#conf-error").text("Request Failed with status code ("+e.response.status+") : Employee Tag")}))):P()("#conf-error").text("Invalid MAC ID entered. Please enter proper MAC ID."),P()("input[type=text]").val(""),P()("input[type=email]").val(""),P()("input[type=number]").val("")},e.unregister=function(t){e.hide(),t.preventDefault();var s=P()("#macid").val();0===s.length?P()("#conf-error").text("Please Enter MAC ID to Un-registered."):s.match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")?"Temperature/Humidity Sensor"===P()("#tagtype").val()?b()({method:"DELETE",url:x.tempertureSensor,data:{macaddress:s}}).then((function(e){200===e.status?P()("#conf-success").text("Tag un-registered successfully."):P()("#conf-error").text("Unable to un-registered Tag.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")})):"IAQ Sensor"===P()("#tagtype").val()?b()({method:"DELETE",url:x.irqSensor,data:{macaddress:s}}).then((function(e){200===e.status?P()("#conf-success").text("Tag un-registered successfully."):P()("#conf-error").text("Unable to un-registered Tag.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")})):"Signal Repeater"===P()("#tagtype").val()?b()({method:"DELETE",url:x.signalRepeator,data:{macaddress:s}}).then((function(e){200===e.status?P()("#conf-success").text("Signal Repeater Asset deleted successfully."):P()("#conf-error").text("Unable to delete asset.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+") : Employee Tag")})):"Employee"===P()("#tagtype").val()&&b()({method:"DELETE",url:x.employeeTag,data:{macaddress:s}}).then((function(e){200===e.status?P()("#conf-success").text("Employee Tag deleted successfully."):P()("#conf-error").text("Unable to delete Tag.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+") : Employee Tag")})):P()("#conf-error").text("Invalid MAC ID entered."),P()("input[type=text]").val(""),P()("input[type=email]").val("")},e.sessionTimeout=function(){P()("#config_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLoginError()},e}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)("span",{className:"sub-heading",children:"Asset Registration"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"error-msg",id:"conf-error"}),Object(f.jsx)("span",{className:"success-msg",id:"conf-success"})]}),Object(f.jsxs)("form",{id:"reg-form",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Tag MAC ID :"}),Object(f.jsx)("input",{type:"text",id:"tagid",required:"required",onClick:this.hide,placeholder:"5a-c2-15-00-00-00"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Tag Type :"}),Object(f.jsxs)("select",{id:"type",onChange:function(){e.displayTrackingForm(),e.hide()},children:[Object(f.jsx)("option",{children:"Temperature/Humidity Sensor"}),Object(f.jsx)("option",{children:"IAQ Sensor"}),Object(f.jsx)("option",{children:"Signal Repeater"}),Object(f.jsx)("option",{children:"Employee"})]})]}),Object(f.jsxs)("div",{id:"temp_form",className:"fading",style:{display:"block"},children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name : "}),Object(f.jsx)("select",{name:"type",id:"fname"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"X Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"x",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Y Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"y",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"X1 Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"x1",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Y1 Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"y1",required:"required"})]})]}),Object(f.jsxs)("div",{id:"iaq_form",className:"fading",style:{display:"none"},children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name : "}),Object(f.jsx)("select",{name:"type",id:"fname1"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"X Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"xval",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Y Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"yval",required:"required"})]})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Register Tag",onClick:this.register,className:"btn success-btn"})})]}),Object(f.jsx)("button",{onClick:function(){e.show(),e.hide()},className:"btn success-btn",children:"Remove Tag"}),Object(f.jsxs)("form",{id:"delete-form",className:"fading",style:{display:"none"},children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Tag Type :"}),Object(f.jsxs)("select",{id:"tagtype",onChange:function(){e.displayTrackingForm(),e.hide()},children:[Object(f.jsx)("option",{children:"Temperature/Humidity Sensor"}),Object(f.jsx)("option",{children:"IAQ Sensor"}),Object(f.jsx)("option",{children:"Signal Repeater"}),Object(f.jsx)("option",{children:"Employee"})]})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Tag MAC ID :"}),Object(f.jsx)("input",{type:"text",name:"macid",id:"macid",required:"required",onClick:this.hide,placeholder:"5a-c2-15-00-00-00"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Delete Tag",onClick:this.unregister,className:"btn success-btn"})})]}),Object(f.jsx)("div",{id:"config_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),L=A;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var R=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).show=function(){document.getElementById("gatewayid").value="",document.getElementById("gateway-del-form").style.display="block"===document.getElementById("gateway-del-form").style.display?"none":"block"},e.hide=function(){document.getElementById("master-error").innerHTML="",document.getElementById("master-success").innerHTML=""},e.registerGateway=function(t){e.hide(),t.preventDefault();var s=document.getElementById("gatewayid").value;if(0===s.length)document.getElementById("master-error").innerHTML="Please enter Gateway ID.";else if(s.match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")){document.getElementById("master-error").innerHTML="";for(var a,n=document.getElementById("fname").value,i=0;i<e.fdata.length;i++)if(e.fdata[i].name===n){a=e.fdata[i].id;break}b()({method:"POST",url:x.masterGateway,data:{macaddress:s,id:a}}).then((function(e){201===e.status||200===e.status?document.getElementById("master-success").innerHTML="Gateway registered successfully.":document.getElementById("master-error").innerHTML="Unable to Register Gateway."})).catch((function(e){403===e.response.status?(document.getElementById("config_displayModal").style.display="block",document.getElementById("content").innerHTML="User Session has timed out. Please Login again"):document.getElementById("master-error").innerHTML="Request Failed with status code ("+e.response.status+")."}))}else document.getElementById("master-error").innerHTML="Invalid Gateway ID entered."},e.unregisterGateway=function(t){e.hide(),t.preventDefault();var s=document.getElementById("gateway").value;0===s.length?document.getElementById("master-error").innerHTML="Please enter Gateway ID.":s.match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")?b()({method:"DELETE",url:x.masterGateway,data:{macaddress:s}}).then((function(e){201===e.status||200===e.status?document.getElementById("master-success").innerHTML="Gateway un-registered successfully.":document.getElementById("master-error").innerHTML="Unable to un-register Gateway."})).catch((function(e){403===e.response.status?(document.getElementById("config_displayModal").style.display="block",document.getElementById("content").innerHTML="User Session has timed out. Please Login again"):document.getElementById("master-error").innerHTML="Request Failed with status code ("+e.response.status+")."})):document.getElementById("master-error").innerHTML="Invalid Gateway ID entered."},e.sessionTimeout=function(){document.getElementById("config_displayModal").style.display="none",sessionStorage.setItem("isLoggedIn",0),e.props.handleLoginError()},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;b()({method:"GET",url:x.floorMap}).then((function(t){if(201===t.status||200===t.status)if(e.fdata=t.data,0!==e.fdata.length)for(var s=0;s<e.fdata.length;s++)P()("#fname").append("<option>"+e.fdata[s].name+"</option>");else P()("#master-error").text("Please upload Floor Map to register Master Gateway.");else P()("#master-error").text("Unable to fetch floor names")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):404===e.response.status?P()("#master-error").text("No floor map is registered."):P()("#master-error").text("Request Failed with status code ("+e.response.status+").")}))}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)("span",{className:"sub-heading",children:"Master Gateway Registration"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"error-msg",id:"master-error"}),Object(f.jsx)("span",{className:"success-msg",id:"master-success"})]}),Object(f.jsxs)("form",{id:"gateway-reg-form",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name :"}),Object(f.jsx)("select",{name:"type",id:"fname"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Gateway ID :"}),Object(f.jsx)("input",{type:"text",name:"gatewayid",id:"gatewayid",required:"required",placeholder:"5a-c2-15-00-00-00",onChange:this.hide})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Register Gateway",onClick:this.registerGateway,className:"btn success-btn"})})]}),Object(f.jsx)("button",{onClick:function(){e.show(),e.hide()},className:"btn success-btn",children:"Remove Gateway"}),Object(f.jsxs)("form",{id:"gateway-del-form",className:"fading",style:{display:"none"},children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Gateway MAC ID :"}),Object(f.jsx)("input",{type:"text",name:"gateway",id:"gateway",required:"required",onClick:this.hide,placeholder:"5a-c2-15-00-00-00"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Delete Gateway",onClick:this.unregisterGateway,className:"btn success-btn"})})]}),Object(f.jsx)("div",{id:"config_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),_=R;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var F=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).show=function(){P()("#slaveid").val(""),P()("input[type='text']").val(""),document.getElementById("slave-del-form").style.display="block"===P()("#slave-del-form").css("display")?"none":"block"},e.hide=function(){P()("#slave-error").text(""),P()("#slave-success").text("")},e.registerSlave=function(t){e.hide(),P()("#slave-del-form").css("display","none"),t.preventDefault();var s=P()("#slaveid").val();if(0===s.length)P()("#slave-error").text("Please enter Slave-Gateway ID.");else if(s.match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")){var a=P()("#mastergatewayid").val();b()({method:"POST",url:x.slaveGateway,data:{master:a,macaddress:s}}).then((function(e){200===e.status||201===e.status?P()("#slave-success").text("Slave Gateway registered successfully."):P()("#slave-error").text("Unable to registered Slave Gateway.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#slave-error").text("Request Failed with status code ("+e.response.status+").")}))}else P()("#slave-error").text("Invalid Slave-Gateway ID entered.")},e.unregisterSlave=function(t){e.hide(),t.preventDefault();var s=P()("#slaveid-del").val();0===s.length?P()("#slave-error").text("Please enter Slave-Gateway ID for deletion."):s.match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")?b()({method:"DELETE",url:x.slaveGateway,data:{macaddress:s}}).then((function(e){200===e.status||201===e.status?P()("#slave-success").text("Slave Gateway un-registered successfully."):P()("#slave-error").text("Unable to un-registered Slave Gateway.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#slave-error").text("Request Failed with status code ("+e.response.status+").")})):P()("#slave-error").text("Invalid Slave-Gateway ID entered.")},e.sessionTimeout=function(){P()("#config_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLoginError()},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;b()({method:"GET",url:x.masterGateway}).then((function(t){if(201===t.status||200===t.status)if(e.fdata=t.data,0!==e.fdata.length)for(var s=0;s<e.fdata.length;s++)P()("#mastergatewayid").append("<option>"+e.fdata[s].gatewayid+"</option>");else P()("#slave-error").text("Please register Master Gateway to register Slave Gateway.");else P()("#slave-error").text("Unable to get Gateway ID's")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):404===e.response.status?P()("#slave-error").text("No master gateway is registered."):P()("#slave-error").text("Request Failed with status code ("+e.response.status+").")}))}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)("span",{className:"sub-heading",children:"Slave Gateway Registration"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"error-msg",id:"slave-error"}),Object(f.jsx)("span",{className:"success-msg",id:"slave-success"})]}),Object(f.jsxs)("form",{id:"slave-reg-form",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Master Gateway ID :"}),Object(f.jsx)("select",{id:"mastergatewayid"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Gateway ID :"}),Object(f.jsx)("input",{type:"text",name:"slaveid",id:"slaveid",required:"required",placeholder:"5a-c2-15-00-00-00",onChange:this.hide})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Register Gateway",onClick:this.registerSlave,className:"btn success-btn"})})]}),Object(f.jsx)("button",{onClick:function(){e.show(),e.hide()},className:"btn success-btn",children:"Remove Gateway"}),Object(f.jsxs)("form",{id:"slave-del-form",className:"fading",style:{display:"none"},children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Gateway MAC ID :"}),Object(f.jsx)("input",{type:"text",name:"slaveid-del",id:"slaveid-del",required:"required",onClick:this.hide,placeholder:"5a-c2-15-00-00-00"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Delete Gateway",onClick:this.unregisterSlave,className:"btn success-btn"})})]}),Object(f.jsx)("div",{id:"config_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),H=F;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var q={width:"75px",height:"9px",position:"absolute"},U={padding:"8px 10px",border:"none",borderRadius:"4px",fontSize:"16px",cursor:"pointer",color:"Black",fontWeight:"bold",boxShadow:"3px 3px 5px 3px rgba(0, 0, 0, 0.25)"},W=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).showAssetForm=function(){e.setState({page:"1"}),P()("#b1").css("color","white"),P()("#b1").css("background"," rgb(0, 98, 135)"),P()("#b2").css("color","black"),P()("#b2").css("background","#efefef"),P()("#b3").css("color","black"),P()("#b3").css("background","#efefef")},e.showMasterForm=function(){e.setState({page:"2"}),P()("#b2").css("color","white"),P()("#b2").css("background"," rgb(0, 98, 135)"),P()("#b1").css("color","black"),P()("#b1").css("background","#efefef"),P()("#b3").css("color","black"),P()("#b3").css("background","#efefef")},e.showSlaveForm=function(){e.setState({page:"3"}),P()("#b3").css("color","white"),P()("#b3").css("background"," rgb(0, 98, 135)"),P()("#b1").css("color","black"),P()("#b1").css("background","#efefef"),P()("#b2").css("color","black"),P()("#b2").css("background","#efefef")},e.sessionTimeout=function(){sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0)},e.state={page:"1"},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){P()("#b1").css("color","white"),P()("#b1").css("background"," rgb(0, 98, 135)")}},{key:"render",value:function(){return"1"===this.state.page?this.child=Object(f.jsx)(L,{handleLoginError:this.sessionTimeout}):"2"===this.state.page?this.child=Object(f.jsx)(_,{handleLoginError:this.sessionTimeout}):"3"===this.state.page&&(this.child=Object(f.jsx)(H,{handleLoginError:this.sessionTimeout})),Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Configuration"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"CONFIGURATION"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:q}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"50px"},children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("button",{id:"b1",className:"col col-3 heading",style:U,onClick:this.showAssetForm,children:"Asset Registration"}),Object(f.jsx)("button",{id:"b2",className:"col col-3  heading",style:U,onClick:this.showMasterForm,children:"Master Gateway"}),Object(f.jsx)("button",{id:"b3",className:"col col-3  heading",style:U,onClick:this.showSlaveForm,children:"Slave Gateway"})]}),Object(f.jsx)("div",{className:"container",style:{borderRadius:"0px 0px 5px 5px",border:"2px solid rgb(2, 167, 140, 0.2)",boxShadow:"0px 0px 5px 1px grey",marginTop:"-8px",padding:"2% 10%"},id:"childComponent",children:this.child})]})]})]})}}]),s}(a.Component);b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var z={width:"75px",height:"9px",position:"absolute"},B=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).handleChanges=function(t){P()("#upload-error").text(""),e.setState(Object(m.a)({},t.target.id,t.target.value))},e.handleImageChange=function(t){P()("#upload-error").text(""),e.setState({image:t.target.files[0]})},e.submit=function(t){if(P()("#upload-error").text(""),null!==e.state.image&&""!==e.state.name&&""!==e.state.width&&""!==e.state.height){t.preventDefault();var s=new FormData;s.append("name",e.state.fname),s.append("image",e.state.image,e.state.image.name),s.append("width",parseFloat(e.state.width)),s.append("height",parseFloat(e.state.height)),b()({method:"POST",url:x.floorMap,headers:{"content-type":"multipart/form-data"},data:s}).then((function(e){200===e.status||201===e.status?P()("#upload-success").text("Floor Map uploaded successfully."):P()("#upload-error").text("Unable to upload floor map image.")})).catch((function(e){403===e.response.status?(P()("#upload_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#upload-error").text("Request Failed with status code ("+e.response.status+").")}))}else P()("#upload-error").text("Please enter all fields.");P()("input[type=text]").val(""),P()("input[type=file]").val(""),P()("input[type=number]").val("")},e.delete=function(){},e.sessionTimeout=function(){P()("#upload_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0)},e.state={fname:"",width:"",height:"",image:null},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.fname,s=e.width,n=e.height;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Upload Map"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"UPLOAD FLOOR MAP"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:z}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"50px"},children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("form",{id:"uploadForm",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name : "}),Object(f.jsx)("input",{type:"text",name:"fname",id:"fname",value:t,required:"required",onChange:this.handleChanges})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Map : "}),Object(f.jsx)("input",{type:"file",name:"floorimg",id:"floorimg",accept:"image/*",required:"required",onChange:this.handleImageChange})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Width (in m) : "}),Object(f.jsx)("input",{type:"number",name:"width",id:"width",value:s,required:"required",min:"0",placeholder:"Width in meter",onChange:this.handleChanges})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Height (in m) :"}),Object(f.jsx)("input",{type:"number",name:"height",id:"height",value:n,required:"required",min:"0",placeholder:"Height in meter",onChange:this.handleChanges})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Upload Map",id:"reg",onClick:this.submit,className:"btn success-btn"})})]}),Object(f.jsx)("p",{className:"error-msg",id:"upload-error"}),Object(f.jsx)("p",{className:"success-msg",id:"upload-success"})]}),Object(f.jsxs)("div",{className:"row",style:{display:"none"},children:[Object(f.jsx)("button",{className:"btn success-btn",onClick:function(){document.getElementById("deleteuploadForm").style.display="block"===document.getElementById("deleteuploadForm").style.display?"none":"block",document.getElementById("upload-error").innerHTML="",document.getElementById("dfname").value=""},children:"Delete Floor Map"}),Object(f.jsxs)("form",{id:"deleteuploadForm",style:{display:"none"},children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name : "}),Object(f.jsx)("input",{type:"text",name:"dfname",id:"dfname",required:"required",placeholder:"Name of Floor Map"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Delete Map",onClick:this.delete,className:"btn warning-btn"})})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{id:"temp",style:{width:"900px",height:"300px",zIndex:"-1",position:"relative",display:"none"},children:Object(f.jsx)("img",{src:"",alt:"",style:{width:"900px",height:"300px",zIndex:"-1"},id:"upimg"})})})]})]}),Object(f.jsx)("div",{id:"upload_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),G=s(15),Z=s(20),Q=s(38),Y=s.n(Q);b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var K={width:"75px",height:"9px",position:"absolute",zIndex:"-1"},V=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).fWidth=0,e.fHeight=0,e.jsonData=[],e.interval="",e.panicinterval="",e.c=0,e.xpixel=0,e.flag="false",e.floorData=[],e.plotFloorMap=function(){var t=P()("#fname").val();e.fimage=e.floorData[t],e.fWidth=e.fimage.width,e.fHeight=e.fimage.height,console.log("========>",e.fimage.image.substring(8,e.fimage.image.length)),P()("#tempimg").attr("src",e.fimage.image),e.fWidth>0&&e.fWidth<=20?e.xpixel=50:e.fWidth>20&&e.fWidth<=40?e.xpixel=30:e.fWidth>40&&e.fWidth<=80?e.xpixel=20:e.fWidth>80&&e.fWidth<=120?e.xpixel=10:e.xpixel=8,e.fWidth>0&&e.fWidth<=20?e.maxWidth=100*e.fimage.width:e.fWidth>20&&e.fWidth<=40?e.maxWidth=60*e.fimage.width:e.fWidth>40&&e.fWidth<=80?e.maxWidth=40*e.fimage.width:e.fWidth>80&&e.fWidth<=120?e.maxWidth=20*e.fimage.width:e.maxWidth=10*e.fimage.width;var s=P()("#tempimg").css("width"),a=P()("#tempimg").css("height");e.c=parseFloat(s)/parseFloat(a),e.minImgWidth=e.fWidth*e.xpixel,e.minImgHeight=e.minImgWidth/e.c,e.maxHeight=e.maxWidth/e.c,P()("#temp").css("width",e.minImgWidth),P()("#temp").css("height",e.minImgHeight),P()("#temp").css("max-width",e.maxWidth),P()("#temp").css("max-height",e.maxHeight),P()("#temp").css("min-width",e.minImgWidth),P()("#temp").css("min-height",e.minImgHeight),P()("#tempimg").attr("style","width:100%; height:100%;"),P()("#lastupdated").css("display","none"),P()("#temp").children("div").remove(),P()("input[type=text]").val(""),e.getZones(),e.plotAssets(),clearInterval(e.interval),e.interval=setInterval(e.plotAssets,1e4)},e.getZones=function(){var t=P()("#fname").val();b()({method:"GET",url:x.zoneConfiguration+"?floorid="+e.floorData[t].id}).then((function(s){if(200===s.status){var a=document.getElementById("temp").clientWidth/e.fWidth,n=document.getElementById("temp").clientHeight/e.fHeight;0!==s.data.length&&function(){for(var i=s.data,r=function(s){var r,l;r=parseInt(a*parseFloat(i[s].x1))-1,l=parseInt(n*parseFloat(i[s].y1))-1;var o=Math.ceil((i[s].x2-i[s].x1)*a),c=Math.ceil((i[s].y2-i[s].y1)*n),d=document.createElement("div");P()(d).attr("id",i[s].zonename),P()(d).attr("title","ZoneName: "+i[s].zonename),P()(d).attr("style","border:0.5px solid black; background-color:rgb(0,0,0,0.1); position: absolute; cursor: pointer; left:"+r+"px; top:"+l+"px; padding:"+c/2+"px "+o/2+"px;"),P()(d).on("click",(function(){e.getDailyData(i[s].zonename,e.floorData[t].id)})),P()("#temp").append(d)},l=0;l<i.length;l++)r(l)}()}})).catch((function(e){403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#track-error").text("Request Failed with status code ("+e.response.status+").")}))},e.dummy=function(t){var s=P()("#fname").val(),a=function(a){b()({method:"POST",url:x.zoneTrakcing,data:{floorid:e.floorData[s].id,zonename:t[a].zonename}}).then((function(n){if(200===n.status&&0!==n.data.length){for(var i=n.data,r=[],l=[],o=0;o<i.length;o++)r.push(i[o].timestamp),l.push(i[o].count);var c=document.createElement("div");P()(c).attr("class","sub-heading"),P()(c).append("<p>Floor Name : "+e.floorData[s].name+"</p>"),P()(c).append("<p>Zone Name : "+t[a].zonename+"</p>"),P()(c).append("<p>Date time : "+new Date+"</p>"),P()(c).append("<p>Description : Zone wise employee count</p>");var d=document.createElement("canvas");P()(d).attr("id",a),P()(d).attr("width","50px"),P()(d).attr("height","23px");var p=document.createElement("div");P()(p).attr("style","padding: 0px 30px 10px; margin-bottom:20px"),P()(p).append(c),P()(p).append("<hr />"),P()(p).append(d),P()("#graph_pdf").append(p),P()("#zone").append(d);var h=P()("#"+a);new Z.a(h,{type:"line",data:{labels:r,datasets:[{label:"Employee Count",data:l,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:.5,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{title:{display:!0,text:"Timestamp",font:{size:15}},ticks:{display:!0}}],yAxes:[{title:{display:!0,text:"Count",font:{size:15}},ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"top"}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){}))};for(var n in t)a(n)},e.downloadpdf=function(){Y()().from(document.getElementById("graph_pdf")).set({margin:.5,filename:"table.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:1},jsPDF:{unit:"in",format:"a4",orientation:"l"}}).save()},e.getDailyData=function(e,t){P()("#graphBlock").css("display","none"),P()("#track-error").text(""),b()({method:"POST",url:x.zoneTrakcing,data:{floorid:t,zonename:e}}).then((function(t){if(200===t.status&&0!==t.data.length){P()("#graphBlock").css("display","block"),P()("#chartID").text(e);for(var s=t.data,a=[],n=[],i=0;i<s.length;i++)a.push(s[i].timestamp),n.push(s[i].count);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var r=document.createElement("canvas");P()(r).attr("id","tempChart"),P()(r).attr("width","50px"),P()(r).attr("height","20px"),P()("#chartCanvas").append(r);var l=P()("#tempChart");new Z.a(l,{type:"line",data:{labels:a,datasets:[{label:"Employee Count",data:n,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:.5,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#track-error").text("Request Failed with status code ("+e.response.status+").")}))},e.dailyData=function(){P()("#graph_opt").children("div").css("text-decoration","none"),P()("#graph_opt").children("div").eq(0).css("text-decoration","underline"),P()("#track-error").text("");var t=P()("#fname").val();b()({method:"POST",url:x.zoneTrakcing,data:{floorid:e.floorData[t].id,zonename:P()("#chartID").text()}}).then((function(e){if(200===e.status&&0!==e.data.length){for(var t=e.data,s=[],a=[],n=0;n<t.length;n++)s.push(t[n].timestamp),a.push(t[n].count);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var i=document.createElement("canvas");P()(i).attr("id","tempChart"),P()(i).attr("width","50px"),P()(i).attr("height","20px"),P()("#chartCanvas").append(i);var r=P()("#tempChart");new Z.a(r,{type:"line",data:{labels:s,datasets:[{label:"Employee Count",data:a,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:.5,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove(),403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#track-error").text("Request Failed with status code ("+e.response.status+").")}))},e.weeklyReport=function(){P()("#graph_opt").children("div").css("text-decoration","none"),P()("#graph_opt").children("div").eq(1).css("text-decoration","underline"),P()("#track-error").text("");var t=P()("#fname").val();b()({method:"POST",url:x.zoneWeeklyTracking,data:{floorid:e.floorData[t].id,zonename:P()("#chartID").text()}}).then((function(e){if(200===e.status&&0!==e.data.length){for(var t=e.data,s=[],a=[],n=0;n<t.length;n++)s.push(t[n].timestamp.substr(8,2)+" "+t[n].timestamp.substr(11,5)),a.push(t[n].count);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var i=document.createElement("canvas");P()(i).attr("id","tempChart"),P()(i).attr("width","50px"),P()(i).attr("height","20px"),P()("#chartCanvas").append(i);var r=P()("#tempChart");new Z.a(r,{type:"line",data:{labels:s,datasets:[{label:"Employee Count",data:a,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:.5,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove(),403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#track-error").text("Request Failed with status code ("+e.response.status+").")}))},e.monthlyReport=function(){P()("#graph_opt").children("div").css("text-decoration","none"),P()("#graph_opt").children("div").eq(2).css("text-decoration","underline"),P()("#track-error").text("");var t=P()("#fname").val();b()({method:"POST",url:x.zoneMontylyTracking,data:{floorid:e.floorData[t].id,zonename:P()("#chartID").text()}}).then((function(e){if(200===e.status&&0!==e.data.length){for(var t=e.data,s=[],a=[],n=0;n<t.length;n++)s.push(t[n].timestamp.substr(0,10)),a.push(t[n].count);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var i=document.createElement("canvas");P()(i).attr("id","tempChart"),P()(i).attr("width","50px"),P()(i).attr("height","20px"),P()("#chartCanvas").append(i);var r=P()("#tempChart");new Z.a(r,{type:"line",data:{labels:s,datasets:[{label:"Employee Count",data:a,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:.5,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove(),403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#track-error").text("Request Failed with status code ("+e.response.status+").")}))},e.plotAssets=function(){var t=P()("#fname").val();P()("#total").text("0"),b()({method:"GET",url:x.employeeTracking+"?floorid="+e.floorData[t].id}).then((function(t){if(200===t.status){P()("#track-error").text("");var s=t.data;if(0!==s.length){var a=document.getElementById("temp").clientWidth/e.fWidth,n=document.getElementById("temp").clientHeight/e.fHeight;P()("#lastupdated").css("display","block");var i=P()("#tagid").val();P()(".empls").remove();var r=0,l=0;if("true"===e.flag)for(var o=0;o<s.length;o++){if(new Date-new Date(s[o].tagid.lastseen.substring(0,10)+" "+s[o].tagid.lastseen.substring(11,19))<=12e4&&(e.jsonData=[].concat(Object(G.a)(e.jsonData),[{id:s[o].tagid.tagid,x:s[o].tagid.x,y:s[o].tagid.y}]),s[o].tagid.tagid===i)){r=o;var c=document.createElement("div");P()(c).attr("id",s[o].tagid.tagid),P()(c).attr("class","empls"),P()(c).attr("title","Employee Name  : "+s[o].name+"\nTagid : "+s[o].tagid.tagid),P()(c).attr("style","position: absolute; cursor: pointer; left:"+a*parseFloat(s[o].tagid.x)+"px; top:"+(parseInt(n*parseFloat(s[o].tagid.y))-20)+"px;");var d=document.createElement("i");P()(d).attr("class","fa fa-street-view"),P()(d).attr("style","font-size: 25px"),P()(c).append(d),P()("#temp").append(c);break}}else{for(var p=0;p<s.length;p++){if(new Date-new Date(s[p].tagid.lastseen.substring(0,10)+" "+s[p].tagid.lastseen.substring(11,19))<=12e4){e.jsonData=[].concat(Object(G.a)(e.jsonData),[{id:s[p].tagid.tagid,x:s[p].tagid.x,y:s[p].tagid.y}]),l+=1,r=p;var h=document.createElement("div");P()(h).attr("id",s[p].tagid.tagid),P()(h).attr("class","empls"),P()(h).attr("title","Employee Name  : "+s[p].name+"\nTagid : "+s[p].tagid.tagid),P()(h).attr("style","position: absolute; cursor: pointer; left:"+a*parseFloat(s[p].tagid.x)+"px; top:"+(parseInt(n*parseFloat(s[p].tagid.y))-20)+"px;");var u=document.createElement("i");P()(u).attr("class","fa fa-street-view"),P()(u).attr("style","font-size: 25px"),P()(h).append(u),P()("#temp").append(h)}}P()("#total").text(l)}P()("#timing").text(s[r].tagid.lastseen.substring(0,10)+" "+s[r].tagid.lastseen.substring(11,19)),0===P()("#temp").children("div").length?P()("#track-error").text("No asset detected."):P()("#track-error").text("")}else P()("#track-error").text("No Asset is turned on, Please check System Health Page.")}else P()("#track-error").text("Unable to get Tags Data.")})).catch((function(e){403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#track-error").text("Request Failed with status code ("+e.response.status+").")}))},e.panicFunction=function(){b()({method:"GET",url:x.panicAlert}).then((function(e){if(201===e.status||200===e.status){var t=new Date;if(0!==e.data.length)for(var s=e.data,a=0;a<s.length;a++){t-new Date(s[a].timestamp.substring(0,10)+" "+s[a].timestamp.substring(11,19))<=3e4&&1===P()("#"+s[a].asset.macAddress).length&&P()("#"+s[a].asset.macAddress).attr("class","panicIcon blink")}}})).catch((function(e){403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#track-error").text("Request Failed with status code ("+e.response.status+").")}))},e.zoomin=function(){var t=document.getElementById("temp"),s=t.clientWidth;t.style.width=s+e.xpixel+"px",t.style.height=parseFloat(t.style.width)/e.c+"px";for(var a=0;a<e.jsonData.length;a++)P()("#"+e.jsonData[a].id).css("left",parseFloat(t.clientWidth)/e.fWidth*e.jsonData[a].x),P()("#"+e.jsonData[a].id+"tag").css("left",parseFloat(t.clientWidth)/e.fWidth*e.jsonData[a].x-16),P()("#"+e.jsonData[a].id).css("top",parseFloat(t.clientHeight)/e.fHeight*e.jsonData[a].y-20),P()("#"+e.jsonData[a].id+"tag").css("top",parseFloat(t.clientHeight)/e.fHeight*e.jsonData[a].y-16)},e.zoomout=function(){var t=document.getElementById("temp"),s=t.clientWidth;t.style.width=s-e.xpixel+"px",t.style.height=parseFloat(t.style.width)/e.c+"px";for(var a=0;a<e.jsonData.length;a++)P()("#"+e.jsonData[a].id).css("left",parseFloat(t.clientWidth)/e.fWidth*e.jsonData[a].x),P()("#"+e.jsonData[a].id+"tag").css("left",parseFloat(t.clientWidth)/e.fWidth*e.jsonData[a].x-16),P()("#"+e.jsonData[a].id).css("top",parseFloat(t.clientHeight)/e.fHeight*e.jsonData[a].y-20),P()("#"+e.jsonData[a].id+"tag").css("top",parseFloat(t.clientHeight)/e.fHeight*e.jsonData[a].y-16)},e.search=function(){var t=P()("#tagid").val();P()("#track-error").text(""),0===t.length?P()("#track-error").text("Please enter Employee Tag ID."):t.match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")?0!==t.length&&1===P()("#"+t).length?(e.flag="true",P()("#temp").children("div").css("display","none"),P()("#"+t).css("display","block"),P()("#"+t+"tag").css("display","block")):P()("#track-error").text("Asset Not Found."):P()("#track-error").text("Invalid Tag ID entered.")},e.hadleMouseWheel=function(t){t.deltaY>0?e.zoomout():t.deltaY<0&&e.zoomin()},e.sessionTimeout=function(){P()("#tracking_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0)},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;T(1),b()({method:"GET",url:x.floorMap,headers:{"content-type":"multipart/form-data"}}).then((function(t){if(201===t.status||200===t.status)if(P()("#floor-error").text(""),e.fdata=t.data,0!==e.fdata.length){P()("#floorBlock").css("display","block");for(var s=0;s<e.fdata.length;s++)P()("#fname").append("<option value="+s+">"+e.fdata[s].name+"</option>");e.floorData=t.data,e.plotFloorMap()}else P()("#floor-error").text("Please upload a floormap.");else P()("#floor-error").text("Unable to get Floor Map.")})).catch((function(e){403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#floor-error").text("Request Failed with status code ("+e.response.status+").")}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Realtime Tracking"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"REALTIME TRACKING"}),Object(f.jsxs)("span",{style:{float:"right",fontSize:"18px",display:"none"},className:"sub-heading",id:"lastupdated",children:["Last Updated : ",Object(f.jsx)("span",{id:"timing",children:"00:00:00"})," "]}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:K}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"50px"},children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name : "}),Object(f.jsx)("select",{name:"type",id:"fname",onChange:function(){e.plotFloorMap()}})]})}),Object(f.jsx)("p",{className:"error-msg",id:"floor-error"}),Object(f.jsxs)("div",{id:"floorBlock",style:{display:"none"},children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Tag MAC ID : "}),Object(f.jsx)("input",{type:"text",id:"tagid",placeholder:"5a-c2-15-00-00-00",required:"required",onClick:function(){return P()("#track-error").text("")}})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{type:"button",value:"Search",onClick:this.search,className:"btn success-btn"}),"\xa0\xa0",Object(f.jsx)("input",{type:"button",value:"Clear",onClick:function(){P()("#temp").children().css("display","block"),document.getElementById("tagid").value="",document.getElementById("track-error").innerHTML="",e.flag="false"},className:"btn success-btn"})]}),Object(f.jsx)("p",{className:"error-msg",id:"track-error"})]}),Object(f.jsxs)("div",{className:"row sub-heading",style:{color:"black"},children:[Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"row",children:["Total Tags :"," ",Object(f.jsx)("u",{children:Object(f.jsx)("span",{id:"total",children:"0"})})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{id:"temp",style:{display:"block",position:"relative"},children:Object(f.jsx)("img",{id:"tempimg",alt:""})})}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",id:"graphBlock",style:{display:"none"},children:[Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"sub-heading",children:["Employee Occupency for : ",Object(f.jsx)("span",{id:"chartID"})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"sub-heading",style:{color:"lightgray"},id:"graph_opt",children:[Object(f.jsx)("div",{style:{display:"inline-block",marginRight:"20px",cursor:"pointer"},onClick:this.dailyData,children:"Daily Count"}),Object(f.jsx)("div",{style:{display:"inline-block",marginRight:"20px",cursor:"pointer"},onClick:this.weeklyReport,children:"Weekly Count"}),Object(f.jsx)("div",{style:{display:"inline-block",cursor:"pointer"},onClick:this.monthlyReport,children:"Monthly Count"})]}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{id:"chartCanvas"})]}),Object(f.jsx)("div",{id:"graph_pdf",className:"row",style:{width:"85%"}})]})]}),Object(f.jsx)("div",{id:"tracking_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})]})}}]),s}(a.Component),X=V;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var J={width:"75px",height:"9px",position:"absolute"},$=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).numberPerPage=15,e.pageList=[],e.currentPage=1,e.numberOfPages=0,e.currentRowCount=0,e.s_pageList=[],e.s_currentPage=1,e.s_numberOfPages=0,e.s_currentRowCount=0,e.e_pageList=[],e.e_currentPage=1,e.e_numberOfPages=0,e.e_currentRowCount=0,e.senC=0,e.sensorArray=[],e.loadList=function(){var t=(e.currentPage-1)*e.numberPerPage,s=t+e.numberPerPage;P()("#currentpage").text(e.currentPage),P()("#numberofpages").text(Math.ceil(e.state.sesnorlist.length/e.numberPerPage)),e.pageList=e.state.sesnorlist.slice(t,s),P()("#rowCount").text(e.pageList.length),P()("#sensorTable").empty(),P()("#sensorTable").append("<tr><th>S.No</th><th>MAC ID</th><th>SENSOR TYPE</th></tr>");for(var a=0;a<e.pageList.length;a++)P()("#sensorTable").append(e.pageList[a]);document.getElementById("next").disabled=e.currentPage===e.numberOfPages,document.getElementById("previous").disabled=1===e.currentPage},e.nextPage=function(){e.currentPage=e.currentPage+1,e.loadList()},e.previousPage=function(){e.currentPage=e.currentPage-1,e.loadList()},e.loadSList=function(){var t=(e.s_currentPage-1)*e.numberPerPage,s=t+e.numberPerPage;P()("s_currentpage").text(e.s_currentPage),P()("s_numberofpages").text(Math.ceil(e.state.signalrepeaterlist.length/e.numberPerPage)),e.s_pageList=e.state.signalrepeaterlist.slice(t,s),P()("s_rowCount").text(e.s_pageList.length),P()("#signalRepeaterTable").empty(),P()("#signalRepeaterTable").append("<tr><th>S.No</th><th>MAC ID</th></tr>");for(var a=0;a<e.s_pageList.length;a++)P()("#signalRepeaterTable").append(e.s_pageList[a]);document.getElementById("s_next").disabled=e.s_currentPage===e.s_numberOfPages,document.getElementById("s_previous").disabled=1===e.s_currentPage},e.nextSPage=function(){e.s_currentPage=e.s_currentPage+1,e.loadSList()},e.previousSPage=function(){e.s_currentPage=e.s_currentPage-1,e.loadSList()},e.loadEList=function(){var t=(e.e_currentPage-1)*e.numberPerPage,s=t+e.numberPerPage;P()("#e_currentpage").text(e.e_currentPage),P()("#e_numberofpages").text(Math.ceil(e.state.employeelist.length/e.numberPerPage)),e.e_pageList=e.state.employeelist.slice(t,s),P()("#e_rowCount").text(e.e_pageList.length),P()("#employeeTable").empty(),P()("#employeeTable").append("<tr><th>S.No</th><th>MAC ID</th><th>EMPLOYEE NAME</th></tr>");for(var a=0;a<e.e_pageList.length;a++)P()("#employeeTable").append(e.e_pageList[a]);document.getElementById("e_next").disabled=e.e_currentPage===e.e_numberOfPages,document.getElementById("e_previous").disabled=1===e.e_currentPage},e.nextEPage=function(){e.e_currentPage=e.e_currentPage+1,e.loadEList()},e.previousEPage=function(){e.e_currentPage=e.e_currentPage-1,e.loadEList()},e.search=function(){var t=P()("#type").val(),s=P()("#tagid").val();if(document.getElementById("asset-error").innerHTML="",P()("#tempTable").empty(),document.getElementById("tables").style.display="none",document.getElementById("tempTable").style.display="table",0===s.length){if("employee"===t){P()("#tempTable").append("<tr><th>S.No</th><th>MAC ID</th><th>EMPLOYEE NAME</th></tr>");for(var a=0;a<e.state.employeelist.length;a++)P()("#tempTable").append(e.state.employeelist[a])}else if("signal-repeater"===t){P()("#tempTable").append("<tr><th>S.No</th><th>MAC ID</th></tr>");for(var n=0;n<e.state.signalrepeaterlist.length;n++)P()("#tempTable").append(e.state.signalrepeaterlist[n])}else if("irq"===t){P()("#tempTable").append("<tr><th>S.No</th><th>MAC ID</th><th>SENSOR TYPE</th></tr>");for(var i=0;i<e.state.sesnorlist.length;i++)-1!==e.state.sesnorlist[i].indexOf("IAQ Sensor")&&P()("#tempTable").append(e.state.sesnorlist[i])}else if("temperature"===t){P()("#tempTable").append("<tr><th>S.No</th><th>MAC ID</th><th>SENSOR TYPE</th></tr>");for(var r=0;r<e.state.sesnorlist.length;r++)-1!==e.state.sesnorlist[r].indexOf("Temperature/Humidity Sensor")&&P()("#tempTable").append(e.state.sesnorlist[r])}}else 0!==s.length&&(s.match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")?b()({method:"POST",url:x.assetDetails+s}).then((function(e){if(P()("#tempTable").empty(),200===e.status||201===e.status)if(0!==e.data.length){var t=e.data[0];"employee"===t.tagType?(P()("#tempTable").append("<tr><th>MAC ID</th><th>EMPLOYEE NAME</th><th>EMPLOYEE ID</th><th>EMAIL ID</th></tr>"),P()("#tempTable").append("<tr><td>"+t.macAddress+"</td><td>"+t.empName+"</td><td>"+t.empId+"</td><td>"+t.emailId+"</td></tr>")):("temperature/humidity sensor"===t.tagType||"signal-repeater"===t.tagType||"irq sensor"===t.tagType)&&(P()("#tempTable").append("<tr><th>MAC ID</th><th>SENSOR TYPE</th></tr>"),P()("#tempTable").append("<tr><td>"+t.macAddress+"</td><td>"+t.tagType+"</td></tr>"))}else P()("#asset-error").text("No data found.")})).catch((function(e){403===e.response.status?(P()("#asset_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#asset-error").text("Request Failed with status code ("+e.response.status+").")})):P()("#asset-error").text("Invalid tagid entered."))},e.sessionTimeout=function(){P()("#asset_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0)},e.state={sesnorlist:[],signalrepeaterlist:[],employeelist:[]},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;b()({method:"GET",url:x.tempertureSensor}).then((function(t){var s=t.data;if(0!==s.length){for(var a=0;a<s.length;a++)e.senC++,e.sensorArray.push("<tr id="+s[a].macid+" ><td>"+e.senC+"</td><td>"+s[a].macid+"</td><td>Temperature/Humidity Sensor</td></tr>");e.setState({sesnorlist:Object(G.a)(e.sensorArray)}),e.numberOfPages=Math.ceil(e.sensorArray.length/e.numberPerPage),e.currentRowCount=e.senC,e.loadList()}})).catch((function(e){403===e.response.status?(P()("#asset_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#asset-error").text("Request Failed with status code ("+e.response.status+").")})),b()({method:"GET",url:x.irqSensor}).then((function(t){if(200===t.status){var s=t.data;if(0!==s.length){for(var a=0;a<s.length;a++)e.senC++,e.sensorArray.push("<tr id="+s[a].macid+" ><td>"+e.senC+"</td><td>"+s[a].macid+"</td><td>IAQ Sensor</td></tr>");e.setState({sesnorlist:Object(G.a)(e.sensorArray)}),e.numberOfPages=Math.ceil(e.sensorArray.length/e.numberPerPage),e.currentRowCount=e.senC,e.loadList()}}})).catch((function(e){403===e.response.status?(P()("#asset_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#asset-error").text("Request Failed with status code ("+e.response.status+").")})),b()({method:"GET",url:x.signalRepeator}).then((function(t){var s=t.data;if(0!==s.length){for(var a=0,n=[],i=0;i<s.length;i++)a++,n.push("<tr id="+s[i].macid+"><td>"+a+"</td><td>"+s[i].macid+"</td></tr>");e.setState({signalrepeaterlist:[].concat(n)}),e.s_numberOfPages=Math.ceil(n.length/e.numberPerPage),e.s_currentRowCount=a,e.loadSList()}})).catch((function(e){403===e.response.status?(P()("#asset_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#asset-error").text("Request Failed with status code ("+e.response.status+").")})),b()({method:"GET",url:x.employeeRegistration+"?key=all"}).then((function(t){var s=t.data;if(0!==s.length){for(var a=0,n=[],i=0;i<s.length;i++){a++;var r="Not Assigned";s[i].tagid&&(r=s[i].tagid.tagid,n.push("<tr id="+r+"><td>"+a+"</td><td>"+r+"</td><td>"+s[i].name+"</td></tr>"))}e.setState({employeelist:[].concat(n)}),e.e_numberOfPages=Math.ceil(n.length/e.numberPerPage),e.e_currentRowCount=a,e.loadEList()}})).catch((function(e){403===e.response.status?(P()("#asset_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#asset-error").text("Request Failed with status code ("+e.response.status+").")}))}},{key:"render",value:function(){return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Assets"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"ALL ASSETS"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:J}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"50px"},children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Tag Type : "}),Object(f.jsxs)("select",{name:"type",id:"type",onChange:function(){document.getElementById("tagid").value=""},children:[Object(f.jsx)("option",{value:"temperature",children:"Temperature/Humidity Sensor"}),Object(f.jsx)("option",{value:"irq",children:"IAQ Sensor"}),Object(f.jsx)("option",{value:"signal-repeater",children:"Signal Repeater"}),Object(f.jsx)("option",{value:"employee",children:"Employee"})]})]}),Object(f.jsxs)("div",{className:"input-group",style:{display:"none"},children:[Object(f.jsx)("span",{className:"label",children:"Tag MAC ID : "}),Object(f.jsx)("input",{type:"text",id:"tagid",placeholder:"5a-c2-15-00-00-00",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{type:"button",value:"Search",onClick:this.search,className:"btn success-btn"}),"\xa0\xa0",Object(f.jsx)("input",{type:"button",value:"Clear",onClick:function(){document.getElementById("tempTable").style.display="none",document.getElementById("tables").style.display="block",document.getElementById("tagid").value="",document.getElementById("asset-error").innerHTML=""},className:"btn success-btn"})]})]}),Object(f.jsx)("hr",{}),Object(f.jsx)("p",{className:"error-msg",id:"asset-error"}),Object(f.jsx)("table",{id:"tempTable",style:{marginTop:"20px",marginBottom:"30px"}}),Object(f.jsxs)("div",{className:"row",id:"tables",children:[Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("span",{className:"heading",children:"Sensor Tags"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{id:"sensorTable",style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"S.No"}),Object(f.jsx)("th",{children:"MAC ID"}),Object(f.jsx)("th",{children:"SENSOR TYPE"})]})}),Object(f.jsx)("tbody",{})]}),Object(f.jsxs)("div",{style:{textAlign:"center"},children:[Object(f.jsxs)("p",{style:{float:"left",fontFamily:"Roboto-Regular"},children:["( ",Object(f.jsx)("span",{id:"currentpage",children:"0"})," /",Object(f.jsx)("span",{id:"numberofpages",children:"0"})," )"]}),Object(f.jsx)("button",{id:"previous",onClick:this.previousPage,style:{fontFamily:"Roboto-Medium"},children:"Previous"}),Object(f.jsx)("button",{id:"next",onClick:this.nextPage,style:{fontFamily:"Roboto-Medium"},children:"Next"}),Object(f.jsxs)("p",{style:{float:"right",fontFamily:"Roboto-Regular"},children:["Row count : ",Object(f.jsx)("span",{id:"rowCount",children:"0"})]})]})]}),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("span",{className:"heading",children:"Signal Repeater"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{id:"signalRepeaterTable",style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"S.No"}),Object(f.jsx)("th",{children:"MAC ID"})]})}),Object(f.jsx)("tbody",{})]}),Object(f.jsxs)("div",{style:{textAlign:"center"},children:[Object(f.jsxs)("p",{style:{float:"left",fontFamily:"Roboto-Regular"},children:["( ",Object(f.jsx)("span",{id:"s_currentpage",children:"0"})," /",Object(f.jsx)("span",{id:"s_numberofpages",children:"0"})," )"]}),Object(f.jsx)("button",{id:"s_previous",onClick:this.previousSPage,style:{fontFamily:"Roboto-Medium"},children:"Previous"}),Object(f.jsx)("button",{id:"s_next",onClick:this.nextSPage,style:{fontFamily:"Roboto-Medium"},children:"Next"}),Object(f.jsxs)("p",{style:{float:"right",fontFamily:"Roboto-Regular"},children:["Row count : ",Object(f.jsx)("span",{id:"s_rowCount",children:"0"})]})]})]}),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("span",{className:"heading",children:"Employee Tags"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{id:"employeeTable",style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"S.No"}),Object(f.jsx)("th",{children:"MAC ID"}),Object(f.jsx)("th",{children:"EMPLOYEE NAME"})]})}),Object(f.jsx)("tbody",{})]}),Object(f.jsxs)("div",{style:{textAlign:"center"},children:[Object(f.jsxs)("p",{style:{float:"left",fontFamily:"Roboto-Regular"},children:["( ",Object(f.jsx)("span",{id:"e_currentpage",children:"0"})," /",Object(f.jsx)("span",{id:"e_numberofpages",children:"0"})," )"]}),Object(f.jsx)("button",{id:"e_previous",onClick:this.previousEPage,style:{fontFamily:"Roboto-Medium"},children:"Previous"}),Object(f.jsx)("button",{id:"e_next",onClick:this.nextEPage,style:{fontFamily:"Roboto-Medium"},children:"Next"}),Object(f.jsxs)("p",{style:{float:"right",fontFamily:"Roboto-Regular"},children:["Row count : ",Object(f.jsx)("span",{id:"e_rowCount",children:"0"})]})]})]})]})]})]}),Object(f.jsx)("div",{id:"asset_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component);b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var ee={width:"75px",height:"9px",position:"absolute"},te=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).masterHealth=function(){b()({method:"GET",url:x.masterGateway}).then((function(e){if(200===e.status){var t=e.data;if(P()("#gatewayHealth").empty(),0!==t.length)for(var s=0;s<t.length;s++){var a=t[s].lastseen.substr(0,10)+" "+t[s].lastseen.substr(11,8),n="red";new Date-new Date(t[s].lastseen)<=12e4&&(n="green"),P()("#gatewayHealth").append("<tr><td>"+(s+1)+"</td><td>"+t[s].gatewayid+"</td><td>"+t[s].floor.name+"</td><td>"+a+"</td><td><div class='circle' style='margin:auto;background-color:"+n+";'></div></td></tr>")}}})).catch((function(e){403===e.response.status?(P()("#syshealth_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#sys-error").text("Master Gateway : Request failed with status code "+e.response.status)}))},e.slaveHealth=function(){b()({method:"GET",url:x.slaveGateway}).then((function(e){if(200===e.status){var t=e.data;if(P()("#slaveHealth").empty(),0!==t.length)for(var s=0;s<t.length;s++){var a=t[s].lastseen.substr(0,10)+" "+t[s].lastseen.substr(11,8),n="red";new Date-new Date(t[s].lastseen)<=12e4&&(n="green"),P()("#slaveHealth").append("<tr><td>"+(s+1)+"</td><td>"+t[s].gatewayid+"</td><td>"+t[s].master.floor.name+"</td><td>"+t[s].master.gatewayid+"</td><td>"+a+"</td><td><div class='circle' style='margin:auto;background-color:"+n+";'></div></td></tr>")}}})).catch((function(e){403===e.response.status?(P()("#syshealth_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#sys-error").text("Slave Gateway : Request failed with status code "+e.response.status)}))},e.signalRepeatorHealth=function(){b()({method:"GET",url:x.signalRepeator}).then((function(e){if(200===e.status){var t=e.data;if(0!==t.length){P()("#signalRepeaterHealth").empty();for(var s=0;s<t.length;s++){var a=t[s].lastseen.substr(0,10)+" "+t[s].lastseen.substr(11,8),n="red";new Date-new Date(t[s].lastseen)<=12e4&&(n="green"),P()("#signalRepeaterHealth").append("<tr><td>"+(s+1)+"</td><td>"+t[s].macid+"</td><td>"+a+"</td><td><div class='circle' style='margin:auto;background-color:"+n+";'></div></td></tr>")}}}})).catch((function(e){403===e.response.status?(P()("#syshealth_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#sys-error").text("Signal Repeator : Request failed with status code "+e.response.status)}))},e.sensorHealth=function(){P()("#sensorHealth").empty();var t=0;b()({method:"GET",url:x.tempertureSensor}).then((function(s){if(200===s.status){var a=s.data;if(0!==a.length){for(var n=0;n<a.length;n++){var i=a[n].lastseen.substr(0,10)+" "+a[n].lastseen.substr(11,8),r="red";new Date-new Date(a[n].lastseen)<=12e4&&(r="green"),P()("#sensorHealth").append("<tr><td>"+(n+1)+"</td><td>"+a[n].macid+"</td><td>Temp/Humid Sensor</td><td>"+a[n].battery+"</td><td>"+i+"</td><td><div class='circle' style='margin:auto;background-color:"+r+";'></div></td></tr>"),t=n+1}e.iaqHealth(t)}}})).catch((function(e){403===e.response.status?(P()("#syshealth_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#sys-error").text("Sensor Health : Request failed with status code "+e.response.status)}))},e.iaqHealth=function(e){b()({method:"GET",url:x.irqSensor}).then((function(t){if(200===t.status){var s=t.data;if(0!==s.length)for(var a=0;a<s.length;a++){var n=s[a].lastseen.substr(0,10)+" "+s[a].lastseen.substr(11,8),i="red";new Date-new Date(s[a].lastseen)<=12e4&&(i="green"),P()("#sensorHealth").append("<tr><td>"+parseInt(e+parseInt(a+1))+"</td><td>"+s[a].macid+"</td><td>IAQ Sensor</td><td>"+s[a].battery+"</td><td>"+n+"</td><td><div class='circle' style='margin:auto;background-color:"+i+";'></div></td></tr>")}}})).catch((function(e){403===e.response.status?(P()("#syshealth_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#sys-error").text("Sensor Health : Request failed with status code "+e.response.status)}))},e.assetHealth=function(){b()({method:"GET",url:x.employeeTag}).then((function(e){if(200===e.status){var t=e.data;if(0!==t.length){P()("#systemHealth").empty();for(var s=0;s<t.length;s++){var a=t[s].lastseen.substr(0,10)+" "+t[s].lastseen.substr(11,8),n="red";new Date-new Date(t[s].lastseen)<=12e4&&(n="green"),P()("#systemHealth").append("<tr><td>"+(s+1)+"</td><td>"+t[s].tagid+"</td><td>"+t[s].battery+"</td><td>"+a+"</td><td><div class='circle' style='margin:auto;background-color:"+n+";'></div></td></tr>")}}}})).catch((function(e){403===e.response.status?(P()("#syshealth_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#sys-error").text("Employee Tag : Request failed with status code "+e.response.status)}))},e.sessionTimeout=function(){P()("#syshealth_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0)},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.masterHealth(),this.slaveHealth(),this.signalRepeatorHealth(),this.sensorHealth(),this.assetHealth(),this.interval1=setInterval(this.masterHealth,15e3),this.interval2=setInterval(this.slaveHealth,15e3),this.interval3=setInterval(this.signalRepeatorHealth,15e3),this.interval4=setInterval(this.sensorHealth,15e3),this.interval5=setInterval(this.assetHealth,15e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval1),clearInterval(this.interval2),clearInterval(this.interval3),clearInterval(this.interval4),clearInterval(this.interval5)}},{key:"render",value:function(){return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"System Health"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"SYSTEM HEALTH"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:ee}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"40px"},children:[Object(f.jsx)("p",{className:"error-msg",id:"sys-error"}),Object(f.jsx)("br",{}),Object(f.jsx)("span",{className:"heading",children:"Master Gateway"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sl.No"}),Object(f.jsx)("th",{children:"MASTER ID"}),Object(f.jsx)("th",{children:"FLOOR NAME"}),Object(f.jsx)("th",{children:"LAST SEEN"}),Object(f.jsx)("th",{children:"STATUS"})]})}),Object(f.jsx)("tbody",{id:"gatewayHealth"})]}),Object(f.jsx)("span",{className:"heading",children:"Slave Gateway"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sl.No"}),Object(f.jsx)("th",{children:"SLAVE ID"}),Object(f.jsx)("th",{children:"FLOOR NAME"}),Object(f.jsx)("th",{children:"MASTER GATEWAY ID"}),Object(f.jsx)("th",{children:"LAST SEEN"}),Object(f.jsx)("th",{children:"STATUS"})]})}),Object(f.jsx)("tbody",{id:"slaveHealth"})]}),Object(f.jsx)("span",{className:"heading",children:"Signal Repeater"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sl.No"}),Object(f.jsx)("th",{children:"MAC ID"}),Object(f.jsx)("th",{children:"Last Seen"}),Object(f.jsx)("th",{children:"Status"})]})}),Object(f.jsx)("tbody",{id:"signalRepeaterHealth"})]}),Object(f.jsx)("span",{className:"heading",children:"Sensors"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sl.No"}),Object(f.jsx)("th",{children:"MAC ID"}),Object(f.jsx)("th",{children:"Sensor Type"}),Object(f.jsx)("th",{children:"Battery Status (%)"}),Object(f.jsx)("th",{children:"Last Seen"}),Object(f.jsx)("th",{children:"Status"})]})}),Object(f.jsx)("tbody",{id:"sensorHealth"})]}),Object(f.jsx)("span",{className:"heading",children:"Assets"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sl.No"}),Object(f.jsx)("th",{children:"Asset MAC ID"}),Object(f.jsx)("th",{children:"Battery Status (%)"}),Object(f.jsx)("th",{children:"Last Seen"}),Object(f.jsx)("th",{children:"Status"})]})}),Object(f.jsx)("tbody",{id:"systemHealth"})]})]})]}),Object(f.jsx)("div",{id:"syshealth_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),se=te;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var ae={width:"75px",height:"9px",position:"absolute"},ne=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).numberPerPage=25,e.pageList=[],e.currentPage=1,e.numberOfPages=0,e.currentRowCount=0,e.getAlertDate=function(){document.getElementById("alert-error").innerHTML="",b()({method:"GET",url:x.alertData}).then((function(t){if(200===t.status)if(0!==t.data.length){P()("#alertBlock").css("display","block"),e.data=t.data;var s=[],a=0;for(a=e.data.length-1;a>=0;a--){var n;1===e.data[a].value?n="Panic Button":3===e.data[a].value?n="Free Fall":4===e.data[a].value?n="No activity":5===e.data[a].value&&(n="Low Battery"),s.push("<tr class="+e.data[a].value+"><td>"+e.data[a].asset.tagid+"</td><td>"+n+"</td><td>"+e.data[a].timestamp.substring(0,10)+" "+e.data[a].timestamp.substring(11,19)+"</td></tr>")}e.setState({alertList:[].concat(s)}),e.numberOfPages=Math.ceil(s.length/e.numberPerPage),e.currentRowCount=a,e.loadList()}else P()("#alert-error").text("No alert is genereated.");else P()("#alert-error").text("Unable to fetch Alert Data.")})).catch((function(e){403===e.response.status?(P()("#alert_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#alert-error").text("Request Failed with status code ("+e.response.status+").")}))},e.loadList=function(){var t=(e.currentPage-1)*e.numberPerPage,s=t+e.numberPerPage;P()("#currentpage").text(e.currentPage),P()("#numberofpages").text(Math.ceil(e.state.alertList.length/e.numberPerPage)),e.pageList=e.state.alertList.slice(t,s),P()("#rowCount").text(e.pageList.length),P()("#alertTable").empty(),P()("#alertTable").append(" <tr><th>ASSET MAC ID</th><th>EVENT</th><th>TIMESTAMP</th></tr>");for(var a=0;a<e.pageList.length;a++)P()("#alertTable").append(e.pageList[a]);document.getElementById("next").disabled=e.currentPage===e.numberOfPages,document.getElementById("previous").disabled=1===e.currentPage},e.nextPage=function(){e.currentPage=e.currentPage+1,e.loadList()},e.previousPage=function(){e.currentPage>0&&(e.currentPage=e.currentPage-1),e.loadList()},e.search=function(){P()("#tempTable").empty();var t=P()("#type").val(),s=e.state.alertList;P()("#alert-error").text(""),P()("#tempTable").css("display","table"),P()("#alertTable").css("display","none"),P()("#opt").css("display","none"),P()("#tempTable").append("<tr><th>ASSET MAC ID</th><th>EVENT</th><th>TIMESTAMP</th></tr>");for(var a=0;a<s.length;a++)s[a].substring(10,11)===t&&P()("#tempTable").append(s[a]);1===P()("#tempTable").children("tr").length&&P()("#alert-error").text("No data found.")},e.sessionTimeout=function(){P()("#alert_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0)},e.state={alertList:[]},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){T(6),this.getAlertDate(),this.interval=setInterval(this.getAlertDate,15e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Alerts"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"ALERTS"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:ae}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"50px"},children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Event Type : "}),Object(f.jsxs)("select",{name:"type",id:"type",children:[Object(f.jsx)("option",{value:"1",children:"Panic Button"}),Object(f.jsx)("option",{value:"3",children:"Free Fall"}),Object(f.jsx)("option",{value:"4",children:"No Activity"}),Object(f.jsx)("option",{value:"5",children:"Low Battery"})]})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("input",{type:"button",value:"Search",onClick:this.search,className:"btn success-btn"}),"\xa0\xa0",Object(f.jsx)("input",{type:"button",value:"Clear",onClick:function(){document.getElementById("tempTable").style.display="none",document.getElementById("alertTable").style.display="table",document.getElementById("opt").style.display="block",document.getElementById("alert-error").innerHTML=""},className:"btn success-btn"})]})]}),Object(f.jsx)("hr",{}),Object(f.jsx)("br",{}),Object(f.jsx)("p",{className:"error-msg",id:"alert-error"}),Object(f.jsxs)("div",{className:"row",id:"alertBlock",style:{display:"none"},children:[Object(f.jsx)("span",{className:"heading",children:"ALERT INFORMATION"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsx)("table",{id:"tempTable",style:{marginTop:"20px",marginBottom:"30px",display:"none"}}),Object(f.jsx)("table",{id:"alertTable",style:{marginTop:"20px",marginBottom:"30px"}}),Object(f.jsxs)("div",{id:"opt",style:{textAlign:"center"},children:[Object(f.jsxs)("p",{style:{float:"left",fontFamily:"Roboto-Regular"},children:["( ",Object(f.jsx)("span",{id:"currentpage",children:"0"})," /",Object(f.jsx)("span",{id:"numberofpages",children:"0"})," )"]}),Object(f.jsx)("button",{id:"previous",onClick:this.previousPage,style:{fontFamily:"Roboto-Medium"},children:"Previous"}),Object(f.jsx)("button",{id:"next",onClick:this.nextPage,style:{fontFamily:"Roboto-Medium"},children:"Next"}),Object(f.jsxs)("p",{style:{float:"right",fontFamily:"Roboto-Regular"},children:["Row count : ",Object(f.jsx)("span",{id:"rowCount",children:"0"})]})]})]})]})]}),Object(f.jsx)("div",{id:"alert_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component);b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var ie={width:"75px",height:"9px",position:"absolute",zIndex:"-1"},re=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).fWidth=0,e.fHeight=0,e.jsonData=[],e.interval="",e.c=0,e.xpixel=0,e.flag="false",e.floorData=[],e.plotFloorMap=function(){P()("#graphBlock").css("display","none");var t=P()("#fname").val();e.fimage=e.floorData[t],e.fWidth=e.fimage.width,e.fHeight=e.fimage.height,P()("#tempimg").attr("src",e.fimage.image),e.fWidth>0&&e.fWidth<=20?(e.xpixel=50,e.maxWidth=100*e.fimage.width):e.fWidth>20&&e.fWidth<=40?(e.xpixel=30,e.maxWidth=60*e.fimage.width):e.fWidth>40&&e.fWidth<=80?(e.xpixel=20,e.maxWidth=40*e.fimage.width):e.fWidth>80&&e.fWidth<=120?(e.xpixel=10,e.maxWidth=20*e.fimage.width):(e.xpixel=8,e.maxWidth=10*e.fimage.width);var s=P()("#tempimg").css("width"),a=P()("#tempimg").css("height");e.c=parseFloat(s)/parseFloat(a),e.maxHeight=e.maxWidth/e.c,e.minImgWidth=e.fWidth*e.xpixel,e.minImgHeight=e.minImgWidth/e.c,P()("#temp").css("width",e.minImgWidth),P()("#temp").css("height",e.minImgHeight),P()("#temp").css("min-width",e.minImgWidth),P()("#temp").css("min-height",e.minImgHeight),P()("#temp").css("max-width",e.maxWidth),P()("#temp").css("max-height",e.maxHeight),P()("#tempimg").attr("style","width:100%; height:100%;"),P()("#lastupdated").css("display","none"),P()("#temp").children("div").remove(),P()("input[type=text]").val(""),window.scrollTo(0,document.body.scrollHeight),e.plotSensors(),clearInterval(e.thermal_interval),e.thermal_interval=setInterval(e.plotSensors,15e3)},e.plotSensors=function(){var t=P()("#fname").val();P()("#total").text("0"),b()({method:"GET",url:x.tempertureSensor+"?floorid="+e.floorData[t].id}).then((function(t){var s;200===t.status?function(){P()("#temp-error").text("");var a=t.data;if(0!==a.length){var n=document.getElementById("temp").clientWidth/e.fWidth,i=document.getElementById("temp").clientHeight/e.fHeight;P()("#lastupdated").css("display","block"),P()("#temp").children("div").remove();for(var r=new Date,l=0,o=0,c=function(t){var c=new Date(a[t].lastseen.substring(0,10)+" "+a[t].lastseen.substring(11,19));if(r-c<=12e4){e.jsonData=[].concat(Object(G.a)(e.jsonData),[{id:a[t].macid,x1:a[t].x1,y1:a[t].y1,x2:a[t].x2,y2:a[t].y2}]),o+=1,l=t;var d,p,h=document.createElement("div");d=parseInt(n*parseFloat(a[t].x1))-5,p=parseInt(i*parseFloat(a[t].y1))-5;var u=Math.ceil((a[t].x2-a[t].x1)*n),m=Math.ceil((a[t].y2-a[t].y1)*i);P()(h).attr("id",a[t].macid),P()(h).attr("title","\nMAC ID : "+a[t].macid+"\nTemperature  : "+a[t].temperature+"\nHumidity : "+a[t].humidity),P()(h).attr("class","square"),P()(h).on("click",(function(){e.showThermalMap(a[t].macid)})),parseFloat(a[t].temperature)<25?(s=120,24===parseInt(a[t].temperature)?s=100:23===parseInt(a[t].temperature)?s=80:22===parseInt(a[t].temperature)?s=60:21===parseInt(a[t].temperature)?s=40:20===parseInt(a[t].temperature)&&(s=20),P()(h).attr("style","border:0.5px solid black; background-color:rgb(0,"+s+",255,0.5); position: absolute; cursor: pointer; left:"+d+"px; top:"+p+"px; padding:"+m/2+"px "+u/2+"px;")):parseFloat(a[t].temperature)>=25&&parseFloat(a[t].temperature)<=30?(s=240,30===parseInt(a[t].temperature)?s=240:29===parseInt(a[t].temperature)?s=200:28===parseInt(a[t].temperature)?s=160:27===parseInt(a[t].temperature)?s=120:26===parseInt(a[t].temperature)?s=80:25===parseInt(a[t].temperature)&&(s=40),P()(h).attr("style","border:0.5px solid black; background-color:rgb(0,255,"+s+",0.5); position: absolute; cursor: pointer; left:"+d+"px; top:"+p+"px; padding:"+m/2+"px "+u/2+"px;")):parseFloat(a[t].temperature)>30&&(s=250,35===parseInt(a[t].temperature)?s=250:34===parseInt(a[t].temperature)?s=200:33===parseInt(a[t].temperature)?s=150:32===parseInt(a[t].temperature)?s=100:31===parseInt(a[t].temperature)&&(s=50),P()(h).attr("style","border:0.5px solid black; background-color: rgb(255, "+s+", 0, 0.5); position: absolute; cursor: pointer; left:"+d+"px; top:"+p+"px; padding:"+m/2+"px "+u/2+"px;")),P()("#temp").append(h)}},d=0;d<a.length;d++)c(d);P()("#total").text(o),P()("#timing").text(a[l].lastseen.substring(0,10)+" "+a[l].lastseen.substring(11,19)),0===P()("#temp").children("div").length?P()("#temp-error").text("No asset detected."):P()("#temp-error").text("")}else P()("#temp-error").text("No Asset is turned on, Please check System Health Page.")}():P()("#temp-error").text("Unable to get Tags Data.")})).catch((function(e){403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e.zoomin=function(){var t=document.getElementById("temp"),s=t.clientWidth;t.style.width=s+e.xpixel+"px",t.style.height=parseFloat(t.style.width)/e.c+"px";for(var a=0;a<e.jsonData.length;a++)P()("#"+e.jsonData[a].id).css("left",parseFloat(t.clientWidth)/e.fWidth*e.jsonData[a].x-5),P()("#"+e.jsonData[a].id).css("top",parseFloat(t.clientHeight)/e.fHeight*e.jsonData[a].y-5)},e.zoomout=function(){var t=document.getElementById("temp"),s=t.clientWidth;t.style.width=s-e.xpixel+"px",t.style.height=parseFloat(t.style.width)/e.c+"px";for(var a=0;a<e.jsonData.length;a++)P()("#"+e.jsonData[a].id).css("left",parseFloat(t.clientWidth)/e.fWidth*e.jsonData[a].x-5),P()("#"+e.jsonData[a].id).css("top",parseFloat(t.clientHeight)/e.fHeight*e.jsonData[a].y-5)},e.search=function(){var t=P()("#tagid").val();P()("#temp-error").text(""),0===t.length?P()("#temp-error").text("Please enter MAC Address."):t.match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")?0!==t.length&&1===P()("#"+t).length?(e.flag="true",P()("#temp").children("div").css("display","none"),P()("#"+t).css("display","block"),P()("#"+t+"tag").css("display","block")):P()("#temp-error").text("Asset Not Found."):P()("#temp-error").text("Invalid MAC ID entered.")},e.hadleMouseWheel=function(t){t.deltaY>0?e.zoomout():t.deltaY<0&&e.zoomin()},e.showThermalMap=function(t){e.tagID=t,b()({method:"POST",url:x.dailySensorData+t}).then((function(e){if(200===e.status&&0!==e.data.length){P()("#graphBlock").css("display","block"),P()("#chartID").text(t);var s=[],a=[],n=[],i=1;e.data.length>100&&(i=Math.ceil(e.data.length/100));for(var r=0;r<e.data.length;r+=i)s.push(e.data[r].timestamp.substring(11,19)),a.push(e.data[r].temperature),n.push(e.data[r].humidity);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var l=document.createElement("canvas");P()(l).attr("id","tempChart"),P()(l).attr("width","50px"),P()(l).attr("height","20px"),P()("#chartCanvas").append(l);var o=P()("#tempChart");new Z.a(o,{type:"line",data:{labels:s,datasets:[{label:"Temperature",data:a,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:.5,lineTension:.4},{label:"Humidity",data:n,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:.5,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e.sessionTimeout=function(){P()("#thermalDisplayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0)},e.dailyReport=function(){P()("#graph_opt").children("div").css("text-decoration","none"),P()("#graph_opt").children("div").eq(0).css("text-decoration","underline"),b()({method:"POST",url:x.dailySensorData+e.tagID}).then((function(t){if(200===t.status||201===t.status){if(0!==t.data.length){P()("#graphBlock").css("display","block"),P()("#chartID").text(e.tagID);var s=[],a=[],n=[],i=1;t.data.length>100&&(i=Math.ceil(t.data.length/100));for(var r=0;r<t.data.length;r+=i)s.push(t.data[r].timestamp.substring(11,19)),a.push(t.data[r].temperature),n.push(t.data[r].humidity);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var l=document.createElement("canvas");P()(l).attr("id","tempChart"),P()(l).attr("width","50px"),P()(l).attr("height","20px"),P()("#chartCanvas").append(l);var o=document.getElementById("tempChart");new Z.a(o,{type:"line",data:{labels:s,datasets:[{label:"Temperature",data:a,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:1,lineTension:.4},{label:"Humidity",data:n,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:1,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}})}window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e.weeklyReport=function(){P()("#graph_opt").children("div").css("text-decoration","none"),P()("#graph_opt").children("div").eq(1).css("text-decoration","underline"),b()({method:"POST",url:x.weeklySensorData+e.tagID}).then((function(e){if(200===e.status||201===e.status){if(0!==e.data.length){var t=[],s=[],a=[],n=1;e.data.length>100&&(n=Math.ceil(e.data.length/100));for(var i=0;i<e.data.length;i+=n)t.push(e.data[i].timestamp.substring(0,10)+" "+e.data[i].timestamp.substring(11,19)),s.push(e.data[i].temperature),a.push(e.data[i].humidity);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var r=document.createElement("canvas");P()(r).attr("id","tempChart"),P()(r).attr("width","50px"),P()(r).attr("height","20px"),P()("#chartCanvas").append(r);var l=P()("#tempChart");new Z.a(l,{type:"line",data:{labels:t,datasets:[{label:"Temperature",data:s,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:1,lineTension:.4},{label:"Humidity",data:a,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:1,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}})}window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e.monthlyReport=function(){P()("#graph_opt").children("div").css("text-decoration","none"),P()("#graph_opt").children("div").eq(2).css("text-decoration","underline"),b()({method:"POST",url:x.monthlySensorData+e.tagID}).then((function(e){if(200===e.status||201===e.status){if(0!==e.data.length){var t=[],s=[],a=[],n=1;e.data.length>100&&(n=Math.ceil(e.data.length/100));for(var i=0;i<e.data.length;i+=n)t.push(e.data[i].timestamp.substring(0,10)),s.push(e.data[i].temperature),a.push(e.data[i].humidity);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var r=document.createElement("canvas");P()(r).attr("id","tempChart"),P()(r).attr("width","50px"),P()(r).attr("height","20px"),P()("#chartCanvas").append(r);var l=P()("#tempChart");new Z.a(l,{type:"line",data:{labels:t,datasets:[{label:"Temperature",data:s,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:1,lineTension:.4},{label:"Humidity",data:a,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:1,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}})}window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;T(4),b()({method:"GET",url:x.floorMap,headers:{"content-type":"multipart/form-data"}}).then((function(t){if(201===t.status||200===t.status)if(P()("#temp-error").text(""),e.fdata=t.data,0!==e.fdata.length){P()("#floorBlock").css("display","block");for(var s=0;s<e.fdata.length;s++)P()("#fname").append("<option value="+s+">"+e.fdata[s].name+"</option>");e.floorData=t.data,e.plotFloorMap()}else P()("#temp-error").text("Please upload a floormap.");else P()("#temp-error").text("Unable to get Floor Map.")})).catch((function(e){403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.thermal_interval)}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Realtime Tracking"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"THERMAL MAP"}),Object(f.jsxs)("span",{style:{float:"right",fontSize:"18px",display:"none"},className:"sub-heading",id:"lastupdated",children:["Last Updated : ",Object(f.jsx)("span",{id:"timing",children:"00:00:00"})," "]}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:ie}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"50px"},children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name : "}),Object(f.jsx)("select",{name:"type",id:"fname",onChange:function(){e.plotFloorMap()}})]})}),Object(f.jsx)("p",{className:"error-msg",id:"temp-error"}),Object(f.jsxs)("div",{id:"floorBlock",style:{display:"none"},children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("hr",{})}),Object(f.jsxs)("div",{className:"row sub-heading",style:{color:"black"},children:[Object(f.jsxs)("div",{className:"row",children:["Total Sensors :"," ",Object(f.jsx)("u",{children:Object(f.jsx)("span",{id:"total",children:"0"})})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row sub-heading",children:[Object(f.jsx)("div",{className:"square",style:{backgroundColor:"blue",display:"inline-block",marginRight:"10px"}}),"Cold",Object(f.jsx)("div",{style:{display:"inline"},children:" ( <25\xb0C )"}),Object(f.jsx)("div",{className:"square",style:{backgroundColor:"green",display:"inline-block",marginRight:"10px",marginLeft:"20px"}}),"Optimum",Object(f.jsxs)("div",{style:{display:"inline"},children:[" ","( 25\xb0C - 30\xb0C )"]}),Object(f.jsx)("div",{className:"square",style:{backgroundColor:"orange",display:"inline-block",marginRight:"10px",marginLeft:"20px"}}),"Warm",Object(f.jsx)("div",{style:{display:"inline"},children:" ( >30\xb0C )"})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{id:"temp",style:{display:"block",position:"relative"},children:[Object(f.jsx)("img",{id:"tempimg",alt:""}),Object(f.jsx)("canvas",{id:"mycanvas",style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"}})]})}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",id:"graphBlock",style:{display:"none"},children:[Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"sub-heading",children:["Thermal Map for Sensor ID : ",Object(f.jsx)("span",{id:"chartID"})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"sub-heading",style:{color:"lightgray"},id:"graph_opt",children:[Object(f.jsx)("div",{style:{display:"inline-block",marginRight:"20px",cursor:"pointer"},onClick:this.dailyReport,children:"Daily Report"}),Object(f.jsx)("div",{style:{display:"inline-block",marginRight:"20px",cursor:"pointer"},onClick:this.weeklyReport,children:"Weekly Report"}),Object(f.jsx)("div",{style:{display:"inline-block",cursor:"pointer"},onClick:this.monthlyReport,children:"Monthly Report"})]}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{id:"chartCanvas"})]})]})]}),Object(f.jsx)("div",{id:"thermalDisplayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})]})}}]),s}(a.Component),le=re;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var oe={width:"75px",height:"9px",position:"absolute"},ce=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).sessionTimeout=function(){P()("#report-displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0)},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){b()({method:"GET",url:x.employeeRegistration+"?key=all"}).then((function(e){if((200===e.status||201===e.status)&&0!==e.data.length){P()("reportsTable").empty();for(var t=e.data,s=0;s<t.length;s++){var a="NOT ASSIGNED",n="--:--:--",i="--:--:--";t[s].tagid&&(a=t[s].tagid.tagid,n=t[s].intime.substr(0,10)+" "+t[s].intime.substr(11,8),i=t[s].tagid.lastseen.substr(0,10)+" "+t[s].tagid.lastseen.substr(11,8)),P()("#reportsTable").append("<tr><td>"+(1+s)+"</td><td>"+t[s].name+"</td><td>"+t[s].email+"</td><td>"+a+"</td><td>"+n+"</td><td>"+i+"</td></tr>")}}})).catch((function(e){403===e.response.status?(P()("#report-displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#report-error").text("Request Failed with status code ("+e.response.status+").")}))}},{key:"render",value:function(){return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Reports"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"Reports"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:oe}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"50px"},children:[Object(f.jsx)("p",{className:"error-msg",id:"report-error"}),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("span",{className:"heading",children:"Employee Daily Report"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sl.No"}),Object(f.jsx)("th",{children:"NAME"}),Object(f.jsx)("th",{children:"MAIL ID"}),Object(f.jsx)("th",{children:"MAC ID"}),Object(f.jsx)("th",{children:"IN TIME"}),Object(f.jsx)("th",{children:"LAST SEEN"})]})}),Object(f.jsx)("tbody",{id:"reportsTable"})]}),Object(f.jsxs)("div",{style:{textAlign:"center",display:"none"},children:[Object(f.jsxs)("p",{style:{float:"left",fontFamily:"Roboto-Regular"},children:["( ",Object(f.jsx)("span",{id:"currentpage",children:"0"})," /",Object(f.jsx)("span",{id:"numberofpages",children:"0"})," )"]}),Object(f.jsx)("button",{id:"previous",onClick:this.previousSPage,style:{fontFamily:"Roboto-Medium"},children:"Previous"}),Object(f.jsx)("button",{id:"next",onClick:this.nextSPage,style:{fontFamily:"Roboto-Medium"},children:"Next"}),Object(f.jsxs)("p",{style:{float:"right",fontFamily:"Roboto-Regular"},children:["Row count : ",Object(f.jsx)("span",{id:"rowCount",children:"0"})]})]})]})]})]}),Object(f.jsx)("div",{id:"report-displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),de=ce;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var pe={width:"75px",height:"9px",position:"absolute"},he=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).show=function(){P()("input[type=text]").val(""),P()("input[type=email]").val(""),document.getElementById("delete-form").style.display="none"===document.getElementById("delete-form").style.display?"block":"none",window.scrollTo(0,document.body.scrollHeight)},e.hide=function(){document.getElementById("conf-error").innerHTML="",document.getElementById("conf-success").innerHTML=""},e.register=function(t){e.hide(),t.preventDefault(),P()("#delete-form").css("display","none");var s={empname:P()("#empname").val(),empid:P()("#empid").val(),mailid:P()("#mailid").val(),phoneno:P()("#phoneno").val(),address:P()("#address").val()};0!==s.empname.length&&0!==s.empid.length&&0!==s.mailid.length&&0!==s.phoneno.length&&0!==s.address.length?10===s.phoneno.length&&s.phoneno.match("[789][0-9]{9}")?b()({method:"POST",url:x.employeeRegistration,data:s}).then((function(e){201===e.status?P()("#conf-success").text("Employee is registered successfully."):P()("#conf-error").text("Unable to register employee.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")})):P()("#conf-error").text("Invalid phone number given."):P()("#conf-error").text("Please provide all information."),P()("input[type=text]").val(""),P()("input[type=email]").val(""),P()("input[type=tel]").val("")},e.unregister=function(t){e.hide(),t.preventDefault();var s=P()("#macid").val();0===s.length?P()("#conf-error").text("Please Enter MAC ID to Un-registered."):b()({method:"DELETE",url:x.employeeRegistration,data:{empid:s}}).then((function(e){200===e.status?P()("#conf-success").text("Tag un-registered successfully."):P()("#conf-error").text("Unable to un-registered Tag.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")})),P()("input[type=text]").val(""),P()("input[type=email]").val("")},e.sessionTimeout=function(){P()("#config_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLoginError()},e}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Employee Registration"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"Employee Registration"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:pe}),Object(f.jsx)("div",{className:"container fading",style:{marginTop:"50px"}}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"error-msg",id:"conf-error"}),Object(f.jsx)("span",{className:"success-msg",id:"conf-success"})]}),Object(f.jsxs)("form",{id:"reg-form",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Employee Name : "}),Object(f.jsx)("input",{type:"text",id:"empname",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Employee ID : "}),Object(f.jsx)("input",{type:"text",id:"empid",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Mail ID : "}),Object(f.jsx)("input",{type:"email",id:"mailid",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Phone Number : "}),Object(f.jsx)("input",{type:"tel",id:"phoneno",minLength:"10",maxLength:"10",pattern:"[789][0-9]{9}",title:"Phone number must start with 7-9 and remaining 9 digit with 0-9",srequired:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Address : "}),Object(f.jsx)("input",{type:"text",id:"address",required:"required"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Add Employee",onClick:this.register,className:"btn success-btn"})})]}),Object(f.jsx)("button",{onClick:function(){e.show(),e.hide()},className:"btn success-btn",children:"Delete Employee"}),Object(f.jsxs)("form",{id:"delete-form",className:"fading",style:{display:"none"},children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Employee ID :"}),Object(f.jsx)("input",{type:"text",name:"macid",id:"macid",required:"required",onClick:this.hide,placeholder:"5a-c2-15-00-00-00"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Delete Tag",onClick:this.unregister,className:"btn success-btn"})})]})]}),Object(f.jsx)("div",{id:"config_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),ue=he;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var me={width:"75px",height:"9px",position:"absolute"},ge=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).show=function(){P()("input[type=text]").val(""),P()("input[type=email]").val(""),document.getElementById("delete-form").style.display="none"===P()("#delete-form").css("display")?"block":"none",window.scrollTo(0,document.body.scrollHeight)},e.hide=function(){P()("#conf-error").text(""),P()("#conf-success").text("")},e.register=function(t){e.hide(),t.preventDefault(),P()("#delete-form").css("display","none");var s={empname:P()("#empname").val(),empid:P()("#empid").val(),mailid:P()("#mailid").val(),phoneno:P()("#phoneno").val(),address:P()("#address").val(),tagid:P()("#tagid").val()};0!==s.empname.length&&0!==s.empid.length&&0!==s.mailid.length&&0!==s.phoneno.length&&0!==s.address.length&&s.tagid.length?P()("#tagid").val().match("([A-Za-z0-9]{2}[-]){5}([A-Za-z0-9]){2}")?b()({method:"PATCH",url:x.employeeRegistration,data:s}).then((function(e){200===e.status?P()("#conf-success").text("Tag is allocated."):P()("#conf-error").text("Unable to allocate tag.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")})):P()("#conf-error").text("Invalid Tag ID."):P()("#conf-error").text("Please provide all information."),P()("input[type=text]").val(""),P()("input[type=email]").val(""),P()("input[type=tel]").val("")},e.getEmployeeDetails=function(t){e.hide(),t.preventDefault();var s=P()("#empid").val();0===s.length?P()("#conf-error").text("Please enter employee id."):b()({method:"GET",url:x.employeeRegistration+"?key="+s}).then((function(e){200===e.status?(P()("#empname").val(e.data.name),P()("#empid").val(e.data.empid),P()("#mailid").val(e.data.email),P()("#phoneno").val(e.data.phoneno),P()("#address").val(e.data.address)):P()("#conf-error").text("Unable to un-registered Tag.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")}))},e.sessionTimeout=function(){P()("#config_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLoginError()},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Tag Allocation"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"Tag Allocation"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:me}),Object(f.jsx)("div",{className:"container fading",style:{marginTop:"50px"}}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"error-msg",id:"conf-error"}),Object(f.jsx)("span",{className:"success-msg",id:"conf-success"})]}),Object(f.jsxs)("form",{id:"reg-form",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Employee ID : "}),Object(f.jsx)("input",{type:"text",id:"empid",required:"required",onChange:this.getEmployeeDetails,placeholder:"Please enter EmployeeID only "})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Employee Name : "}),Object(f.jsx)("input",{type:"text",id:"empname",disabled:"disabled"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Mail ID : "}),Object(f.jsx)("input",{type:"email",id:"mailid",disabled:"disabled"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Phone Number : "}),Object(f.jsx)("input",{type:"tel",id:"phoneno",minLength:"10",maxLength:"10",pattern:"[789][0-9]{9}",title:"Phone number must start with 7-9 and remaining 9 digit with 0-9",disabled:"disabled"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Address : "}),Object(f.jsx)("input",{type:"text",id:"address",disabled:"disabled"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Tag ID : "}),Object(f.jsx)("input",{type:"text",id:"tagid",required:"required"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Allocate Tag",onClick:this.register,className:"btn success-btn"})})]}),Object(f.jsxs)("form",{id:"delete-form",className:"fading",style:{display:"none"},children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Employee ID :"}),Object(f.jsx)("input",{type:"text",name:"macid",id:"macid",required:"required",onClick:this.hide,placeholder:"5a-c2-15-00-00-00"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Delete Tag",onClick:this.unregister,className:"btn success-btn"})})]})]}),Object(f.jsx)("div",{id:"config_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),je=ge;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var be={width:"75px",height:"9px",position:"absolute"},xe=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).componentDidMount=function(){T(2)},e.hide=function(){P()("#conf-error").text(""),P()("#conf-success").text("")},e.getTrackingData=function(t){e.hide(),t.preventDefault(),P()("#sensorTable").empty(),P()("#distanceblock").css("display","none");var s=P()("#empid").val();0===s.length?P()("#conf-error").text("Please enter employee ID."):b()({method:"GET",url:x.employeeDistance+"?empid="+s}).then((function(e){if(200===e.status){P()("#distanceblock").css("display","block");var t=e.data;if(0!==t.length){P()("#empname").text(t[0].name1);for(var s=0;s<t.length;s++)P()("#sensorTable").append("<tr><td>"+(s+1)+"</td><td>"+t[s].name2+"</td><td>"+t[s].starttime.substr(0,10)+" "+t[s].starttime.substr(11,8)+"</td><td>"+t[s].endtime.substr(0,10)+" "+t[s].endtime.substr(11,8)+"</td><td>"+t[s].duration+"</td></tr>")}}else P()("#conf-error").text("Unable to get data.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")}))},e.sessionTimeout=function(){P()("#config_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLoginError()},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Distance Tracking"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"Contact Tracing"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:be}),Object(f.jsx)("div",{className:"container fading",style:{marginTop:"50px"}}),Object(f.jsxs)("form",{id:"reg-form",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Employee ID : "}),Object(f.jsx)("input",{type:"text",id:"empid",required:"required"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Get Data",onClick:this.getTrackingData,className:"btn success-btn"})})]}),Object(f.jsx)("div",{children:Object(f.jsx)("span",{className:"error-msg",id:"conf-error"})}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{id:"distanceblock",style:{display:"none"},children:[Object(f.jsxs)("span",{className:"heading",children:["Distace Tracking Data for Employee : ",Object(f.jsx)("span",{id:"empname"})]}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{src:"../images/Tiles/Underline.png",alt:"",style:{width:"56px",height:"3px",marginTop:"2px",position:"absolute"}}),Object(f.jsxs)("table",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sl.No"}),Object(f.jsx)("th",{children:"EMPLOYEE NAME"}),Object(f.jsx)("th",{children:"START TIME"}),Object(f.jsx)("th",{children:"END TIME"}),Object(f.jsx)("th",{children:"DURATION"})]})}),Object(f.jsx)("tbody",{id:"sensorTable"})]})]})]}),Object(f.jsx)("div",{id:"config_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),fe=xe;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var ye={width:"75px",height:"9px",position:"absolute",zIndex:"-1"},Oe=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).fWidth=0,e.fHeight=0,e.jsonData=[],e.interval="",e.c=0,e.xpixel=0,e.flag="false",e.floorData=[],e.plotFloorMap=function(){P()("#graphBlock").css("display","none"),P()("#temp").children("i").remove(),P()("#temp").children("p").remove();var t=P()("#fname").val();e.fimage=e.floorData[t],e.fWidth=e.fimage.width,e.fHeight=e.fimage.height,P()("#tempimg").attr("src",e.fimage.image),e.fWidth>0&&e.fWidth<=20?(e.xpixel=50,e.maxWidth=100*e.fimage.width):e.fWidth>20&&e.fWidth<=40?(e.xpixel=30,e.maxWidth=60*e.fimage.width):e.fWidth>40&&e.fWidth<=80?(e.xpixel=20,e.maxWidth=40*e.fimage.width):e.fWidth>80&&e.fWidth<=120?(e.xpixel=10,e.maxWidth=20*e.fimage.width):(e.xpixel=8,e.maxWidth=10*e.fimage.width);var s=P()("#tempimg").css("width"),a=P()("#tempimg").css("height");e.c=parseFloat(s)/parseFloat(a),e.maxHeight=e.maxWidth/e.c,e.minImgWidth=e.fWidth*e.xpixel,e.minImgHeight=e.minImgWidth/e.c,P()("#temp").css("width",e.minImgWidth),P()("#temp").css("height",e.minImgHeight),P()("#temp").css("min-width",e.minImgWidth),P()("#temp").css("min-height",e.minImgHeight),P()("#temp").css("max-width",e.maxWidth),P()("#temp").css("max-height",e.maxHeight),P()("#tempimg").attr("style","width:100%; height:100%;"),P()("#lastupdated").css("display","none"),P()("#temp").children("div").remove(),P()("input[type=text]").val(""),window.scrollTo(0,document.body.scrollHeight),e.plotSensors(),clearInterval(e.iaq_interval),e.iaq_interval=setInterval(e.plotSensors,15e3)},e.componentWillUnmount=function(){clearInterval(e.iaq_interval)},e.plotSensors=function(){var t=P()("#fname").val();P()("#total").text("0"),b()({method:"GET",url:x.irqSensor+"?floorid="+e.floorData[t].id}).then((function(t){var s,a;200===t.status&&(0!==t.data.length&&function(){var n=t.data,i=document.getElementById("temp").clientWidth/e.fWidth,r=document.getElementById("temp").clientHeight/e.fHeight,l=0,o=function(t){var o="#581845";l+=1,n[t].tvoc>=0&&n[t].tvoc<=50?o="green":n[t].tvoc>=51&&n[t].tvoc<=100?o="#1dfa02":n[t].tvoc>=101&&n[t].tvoc<=150?o="yellow":n[t].tvoc>=151&&n[t].tvoc<=200?o="orange":n[t].tvoc>=201&&n[t].tvoc<=250?o="red":n[t].tvoc>=251&&n[t].tvoc<=350&&(o="#900c3f"),s=document.createElement("i"),P()(s).attr("class","circle"),P()(s).attr("id",n[t].macid),P()(s).on("click",(function(){e.getGraphData(n[t].macid)})),P()(s).attr("style","background:"+o+";cursor:pointer; padding:5px; position:absolute;  left:"+n[t].x*i+"px; top:"+n[t].y*r+"px;"),a=document.createElement("p"),P()(a).text(n[t].macid),P()(a).attr("style","font-size:11px; font-weight:bold; padding:2px; border:1px solid black; border-radius:5px; position:absolute; color:black; background:white; left:"+n[t].x*i+"px; top:"+n[t].y*r+"px;"),P()("#temp").append(s),P()("#temp").append(a)};for(var c in n)o(c);P()("#total").text(l)}())})).catch((function(e){403===e.response.status?(P()("#tracking_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):404===e.response.status?P()("#temp-error").text("No data found"):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e.getGraphData=function(e){P()("#temp-error").text(""),b()({method:"GET",url:x.dailyIAQData+"?macaddress="+e}).then((function(t){if(200===t.status&&0!==t.data.length){P()("#graphBlock").css("display","block"),P()("#chartID").text(e);for(var s=t.data,a=[],n=[],i=[],r=0;r<s.length;r++)a.push(s[r].timestamp.substr(11,5)),n.push(s[r].co2),i.push(s[r].tvoc);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var l=document.createElement("canvas");P()(l).attr("id","tempChart"),P()(l).attr("width","50px"),P()(l).attr("height","20px"),P()("#chartCanvas").append(l);var o=P()("#tempChart");new Z.a(o,{type:"line",data:{labels:a,datasets:[{label:"CO2",data:n,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:1,lineTension:.4},{label:"IAQ Index",data:i,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:1,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):404===e.response.status?P()("#temp-error").text("No data found."):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e.dailyReport=function(){P()("#temp-error").text(""),P()("#graph_opt").children("div").css("text-decoration","none"),P()("#graph_opt").children("div").eq(0).css("text-decoration","underline"),b()({method:"GET",url:x.dailyIAQData+"?macaddress="+P()("#chartID").text()}).then((function(e){if(200===e.status&&0!==e.data.length){for(var t=e.data,s=[],a=[],n=[],i=0;i<t.length;i++)s.push(t[i].timestamp.substr(11,5)),a.push(t[i].co2),n.push(t[i].tvoc);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var r=document.createElement("canvas");P()(r).attr("id","tempChart"),P()(r).attr("width","50px"),P()(r).attr("height","20px"),P()("#chartCanvas").append(r);var l=P()("#tempChart");new Z.a(l,{type:"line",data:{labels:s,datasets:[{label:"CO2",data:a,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:1,lineTension:.4},{label:"IAQ Index",data:n,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:1,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove(),403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):404===e.response.status?P()("#temp-error").text("No data found."):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e.weeklyReport=function(){P()("#temp-error").text(""),P()("#graph_opt").children("div").css("text-decoration","none"),P()("#graph_opt").children("div").eq(1).css("text-decoration","underline"),b()({method:"GET",url:x.weeklyIAQData+"?macaddress="+P()("#chartID").text()}).then((function(e){if(200===e.status&&0!==e.data.length){for(var t=e.data,s=[],a=[],n=[],i=0;i<t.length;i++)a.push(t[i].co2),n.push(t[i].tvoc),s.push(t[i].timestamp.substr(8,2)+" "+t[i].timestamp.substr(11,5));0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var r=document.createElement("canvas");P()(r).attr("id","tempChart"),P()(r).attr("width","50px"),P()(r).attr("height","20px"),P()("#chartCanvas").append(r);var l=P()("#tempChart");new Z.a(l,{type:"line",data:{labels:s,datasets:[{label:"CO2",data:a,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:1,lineTension:.4},{label:"IAQ Index",data:n,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:1,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove(),403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):404===e.response.status?P()("#temp-error").text("No data found."):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e.monthlyReport=function(){P()("#temp-error").text(""),P()("#graph_opt").children("div").css("text-decoration","none"),P()("#graph_opt").children("div").eq(2).css("text-decoration","underline"),b()({method:"GET",url:x.monthlyIAQData+"?macaddress="+P()("#chartID").text()}).then((function(e){if(200===e.status&&0!==e.data.length){for(var t=e.data,s=[],a=[],n=[],i=0;i<t.length;i++)s.push(t[i].timestamp.substr(0,10)),a.push(t[i].co2),n.push(t[i].tvoc);0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove();var r=document.createElement("canvas");P()(r).attr("id","tempChart"),P()(r).attr("width","50px"),P()(r).attr("height","20px"),P()("#chartCanvas").append(r);var l=P()("#tempChart");new Z.a(l,{type:"line",data:{labels:s,datasets:[{label:"CO2",data:a,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:1,lineTension:.4},{label:"IAQ Index",data:n,backgroundColor:"green",borderColor:"green",borderWidth:2,pointRadius:1,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35}}}}),window.scrollTo(0,document.body.scrollHeight)}})).catch((function(e){0!==P()("#chartCanvas").children().length&&P()("#tempChart").remove(),403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):404===e.response.status?P()("#temp-error").text("No data found."):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))},e.sessionTimeout=function(){P()("#report-displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),e.props.handleLogin(0)},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;T(5),b()({method:"GET",url:x.floorMap,headers:{"content-type":"multipart/form-data"}}).then((function(t){if(201===t.status||200===t.status)if(P()("#temp-error").text(""),e.fdata=t.data,0!==e.fdata.length){P()("#floorBlock").css("display","block");for(var s=0;s<e.fdata.length;s++)P()("#fname").append("<option value="+s+">"+e.fdata[s].name+"</option>");e.floorData=t.data,e.plotFloorMap()}else P()("#temp-error").text("Please upload a floormap.");else P()("#temp-error").text("Unable to get Floor Map.")})).catch((function(e){403===e.response.status?(P()("#thermalDisplayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again")):P()("#temp-error").text("Request Failed with status code ("+e.response.status+").")}))}},{key:"render",value:function(){var e=this;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Air Quality Parameters"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"AIR QUALITY PARAMETERS"}),Object(f.jsxs)("span",{style:{float:"right",fontSize:"18px",display:"none"},className:"sub-heading",id:"lastupdated",children:["Last Updated : ",Object(f.jsx)("span",{id:"timing",children:"00:00:00"})," "]}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:ye}),Object(f.jsxs)("div",{className:"container fading",style:{marginTop:"50px"},children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name : "}),Object(f.jsx)("select",{name:"type",id:"fname",onChange:function(){e.plotFloorMap()}})]})}),Object(f.jsx)("p",{className:"error-msg",id:"temp-error"}),Object(f.jsxs)("div",{id:"floorBlock",style:{display:"none"},children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("hr",{})}),Object(f.jsxs)("div",{className:"row sub-heading",style:{color:"black"},children:[Object(f.jsxs)("div",{className:"row",children:["Total Sensors :"," ",Object(f.jsx)("u",{children:Object(f.jsx)("span",{id:"total",children:"0"})})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row sub-heading",style:{fontSize:"1.2vw"},children:[Object(f.jsx)("div",{className:"square",style:{backgroundColor:"green",display:"inline-block",marginRight:"10px"}}),"Excellent",Object(f.jsx)("div",{style:{display:"inline"},children:" ( 0-50 )"}),Object(f.jsx)("div",{className:"square",style:{backgroundColor:"#1DFA02",display:"inline-block",marginRight:"10px",marginLeft:"20px"}}),"Good",Object(f.jsx)("div",{style:{display:"inline"},children:"( 51-100 )"}),Object(f.jsx)("div",{className:"square",style:{backgroundColor:"yellow",display:"inline-block",marginRight:"10px",marginLeft:"20px"}}),"Lightly Polluted",Object(f.jsx)("div",{style:{display:"inline"},children:" ( 101-150 )"})]}),Object(f.jsxs)("div",{className:"row sub-heading",style:{fontSize:"1.2vw"},children:[Object(f.jsx)("div",{className:"square",style:{backgroundColor:"orange",display:"inline-block",marginRight:"10px"}}),"Moderately Polluted",Object(f.jsx)("div",{style:{display:"inline"},children:" ( 151-200 )"}),Object(f.jsx)("div",{className:"square",style:{backgroundColor:"red",display:"inline-block",marginRight:"10px",marginLeft:"20px"}}),"Heavily Polluted",Object(f.jsx)("div",{style:{display:"inline"},children:"( 201-250 )"}),Object(f.jsx)("div",{className:"square",style:{backgroundColor:"#900C3F ",display:"inline-block",marginRight:"10px",marginLeft:"20px"}}),"Severely Polluted",Object(f.jsx)("div",{style:{display:"inline"},children:" ( 251-350 )"})]}),Object(f.jsxs)("div",{className:"row sub-heading",style:{fontSize:"1.2vw"},children:[Object(f.jsx)("div",{className:"square",style:{backgroundColor:"#581845",display:"inline-block",marginRight:"10px"}}),"Extremely Polluted",Object(f.jsx)("div",{style:{display:"inline"},children:" ( > 350 )"})]})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{id:"temp",style:{display:"block",position:"relative"},children:Object(f.jsx)("img",{id:"tempimg",alt:""})})}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",id:"graphBlock",style:{display:"none"},children:[Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"sub-heading",children:["IAQ Sensor ID : ",Object(f.jsx)("span",{id:"chartID"})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"sub-heading",style:{color:"lightgray"},id:"graph_opt",children:[Object(f.jsx)("div",{style:{display:"inline-block",marginRight:"20px",cursor:"pointer"},onClick:this.dailyReport,children:"Daily Report"}),Object(f.jsx)("div",{style:{display:"inline-block",marginRight:"20px",cursor:"pointer"},onClick:this.weeklyReport,children:"Weekly Report"}),Object(f.jsx)("div",{style:{display:"inline-block",cursor:"pointer"},onClick:this.monthlyReport,children:"Monthly Report"})]}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{id:"chartCanvas"})]})]})]}),Object(f.jsx)("div",{id:"thermalDisplayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})]})}}]),s}(a.Component),ve=Oe;b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var Ne={width:"75px",height:"9px",position:"absolute"},ke=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){b()({method:"GET",url:x.floorMap}).then((function(e){if(201===e.status||200===e.status)if(a.fdata=e.data,0!==a.fdata.length)for(var t=0;t<a.fdata.length;t++)P()("#fname").append("<option value="+a.fdata[t].id+">"+a.fdata[t].name+"</option>"),P()("#fname1").append("<option value="+a.fdata[t].id+">"+a.fdata[t].name+"</option>");else P()("#master-error").text("Please upload floormap to register Master Gateway.");else P()("#master-error").text("Unable to fetch floor names")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#master-error").text("Request Failed with status code ("+e.response.status+").")}))},a.show=function(){P()("input[type=text]").val(""),P()("input[type=number]").val(""),document.getElementById("del_form").style.display="none"===P()("#del_form").css("display")?"block":"none",window.scrollTo(0,document.body.scrollHeight)},a.hide=function(){P()("#conf-error").text(""),P()("#conf-success").text("")},a.register=function(e){e.preventDefault(),a.hide();var t=P()("#fname").val(),s=P()("#zonename").val(),n=P()("#x").val(),i=P()("#y").val(),r=P()("#x1").val(),l=P()("#y1").val();if(0!==s.length&&0!==n.length&&0!==i.length&&0!==r.length&&0!==l.length){var o={id:t,zonename:s,x1:n,y1:i,x2:r,y2:l};b()({method:"POST",url:x.zoneConfiguration,data:o}).then((function(e){201===e.status?P()("#conf-success").text("Zone is registered successfully."):P()("#conf-error").text("Unable to registered zone.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")}))}else P()("#conf-error").text("Please enter all fields.")},a.unregister=function(e){e.preventDefault(),a.hide();var t=P()("#fname1").val(),s=P()("#zonename1").val();0!==t.length&&0!==s.length?b()({method:"DELETE",url:x.zoneConfiguration+"?floorid="+P()("#fname1").val(),data:{floorid:t,zonename:s}}).then((function(e){200===e.status?(P()("#conf-success").text("Zone is deleted successfully."),P()("#del_form").css("display","none")):P()("#conf-error").text("Unable to delete zone.")})).catch((function(e){403===e.response.status?(P()("#config_displayModal").css("display","block"),P()("#content").text("User Session has timed out. Please Login again.")):P()("#conf-error").text("Request Failed with status code ("+e.response.status+").")})):P()("#conf-error").text("Please enter zonename")},a.sessionTimeout=function(){P()("#config_displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),a.props.handleLoginError()},a.state={},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Zone Configuration"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"Zone Configuration"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:Ne}),Object(f.jsx)("div",{className:"container fading",style:{marginTop:"50px"}}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"error-msg",id:"conf-error"}),Object(f.jsx)("span",{className:"success-msg",id:"conf-success"})]}),Object(f.jsxs)("form",{children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name : "}),Object(f.jsx)("select",{name:"type",id:"fname"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Zone Name : "}),Object(f.jsx)("input",{type:"text",id:"zonename",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"X Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"x",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Y Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"y",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"X1 Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"x1",required:"required"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Y1 Co-ordinate : "}),Object(f.jsx)("input",{type:"number",id:"y1",required:"required"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Add Zone",onClick:this.register,className:"btn success-btn"})})]}),Object(f.jsx)("button",{onClick:function(){e.show(),e.hide()},className:"btn success-btn",children:"Delete Zone"}),Object(f.jsxs)("form",{id:"del_form",style:{display:"none"},className:"fading",children:[Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Floor Name : "}),Object(f.jsx)("select",{name:"type",id:"fname1"})]}),Object(f.jsxs)("div",{className:"input-group",children:[Object(f.jsx)("span",{className:"label",children:"Zone Name : "}),Object(f.jsx)("input",{type:"text",id:"zonename1",required:"required"})]}),Object(f.jsx)("div",{className:"input-group",children:Object(f.jsx)("input",{type:"submit",value:"Delete Zone",onClick:this.unregister,className:"btn success-btn"})})]})]}),Object(f.jsx)("div",{id:"config_displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component);b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var we={width:"75px",height:"9px",position:"absolute"},Te=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).sensorsDetails=function(){a.setState({sensorDet:[]}),console.log("sensorsDetails Page======>"),b()({method:"GET",url:"/api/vehicle/tracking"}).then((function(e){if(200===e.status||201===e.status){var t=e.data;if(console.log("======>",e),0!==t.length){for(var s=[],n=0;n<1;n++){var i=t.lastseen.substring(0,19).replace("T"," "),r="red";new Date-new Date(i)<=12e4&&(r="green"),s.push({sno:1..toString(),gatewayId:t.gateway,vehicleId:t.vehicleid,battery:t.battery,lastseen:i,status:r})}a.setState({sensorDet:s,vehicleid:t.vehicleid})}}})).catch((function(e){console.log("error=====>",e),403===e.response.status?(P()("#sensor-displayModal").css("display","block"),P()("#content").text("User Session has timed out."),P()("#content1").text("Please Login again.")):P()("#sensor_error").text("Request Failed with status code ("+e.response.status+").")}))},a.sessionTimeout=function(){P()("#sensor-displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),a.props.handleLogin(0)},a.storeMacId=function(){var e=a.state.vehicleid,t="block"===P()("#sensor_details_graph").css("display")?"none":"block";console.log(t,"###################",e),P()("#sensor_details_graph").css("display",t),"block"===t&&(a.setState({loading:!0}),b()({method:"POST",url:"/api/vehicle/tracking",data:{vehicleid:e}}).then((function(t){var s=t.data;if(console.log("Response ======>",t.data),0!==s.length&&200===t.status){var n=[],i=[],r=1;s.length>100&&(r=Math.ceil(s.length/100)),n.push(s[0].lastseen.substring(11,16)),i.push("0");for(var l=0;l<s.length;l+=r)n.push(s[l].lastseen.substring(11,16)),i.push(s[l].temperature);P()("#sensor_details_graph").css("display","block"),P()("#chartID").text(e),0!==P()("#daily_chart").children().length&&P()("#tempChart").remove();var o=document.createElement("canvas");P()(o).attr("id","tempChart"),P()(o).attr("width","50px"),P()(o).attr("height","20px"),P()("#daily_chart").append(o);var c=P()("#tempChart");new Z.a(c,{type:"line",data:{labels:n,datasets:[{label:"Temperature",data:i,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:.5,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35,fontWeight:"bold"}}}}),a.setState({loading:!1})}else P()("#report-error").text("No data found on Vehicle ID : "+e),a.setState({loading:!1})})).catch((function(e){a.setState({loading:!1}),console.log("Graph Error====>",e),403===e.response.status?(P()("#report-displayModal").css("display","block"),P()("#content").text("User Session has timed out."),P()("#content1").text("Please Login again.")):P()("#report-error").text("Request Failed with status code ("+e.response.status+").")})))},a.state={lastseen:"",error:!1,message:"",sensorDet:[],loading:!1,vehicleid:""},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.sensorsDetails()}},{key:"render",value:function(){var e=this,t=this.state.sensorDet;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Vehicle Details"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"Vehicle Details"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:we}),Object(f.jsxs)("div",{className:"container fading",children:[Object(f.jsx)("p",{className:"error-msg",id:"sensor_error"}),Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("table",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sl.No"}),Object(f.jsx)("th",{children:"GATEWAY ID"}),Object(f.jsx)("th",{children:"VEHICLE ID"}),Object(f.jsx)("th",{children:"BATTERY"}),Object(f.jsx)("th",{children:"LAST SEEN"}),Object(f.jsx)("th",{children:"Status"}),Object(f.jsx)("th",{children:"Details"})]})}),Object(f.jsxs)("tbody",{id:"sensorTable",children:[t.map((function(t,s){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t.sno}),Object(f.jsx)("td",{children:t.gatewayId}),Object(f.jsx)("td",{children:t.vehicleId}),Object(f.jsx)("td",{children:t.battery}),Object(f.jsx)("td",{children:t.lastseen}),Object(f.jsxs)("td",{children:["red"===t.status?Object(f.jsx)("div",{className:"circle",style:{margin:"auto",backgroundColor:"red"}}):Object(f.jsx)("div",{className:"circle",style:{margin:"auto",backgroundColor:"green"}})," "]}),Object(f.jsx)("td",{children:Object(f.jsx)("div",{style:{cursor:"pointer"},onClick:e.storeMacId,children:Object(f.jsx)("img",{src:"../images/Icons/sensor_info.png",alt:"",style:{width:"25px"}})})})]},s)}))," "]})]})})]}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"container fading",children:[Object(f.jsx)("p",{className:"error-msg",id:"report-error"}),Object(f.jsx)("div",{className:"container",style:{paddingBottom:"20px"},children:Object(f.jsx)("div",{id:"sensor_details_graph",style:{display:"none"},children:Object(f.jsx)("div",{id:"daily_chart"})})})]})})]}),Object(f.jsx)("div",{id:"sensor-displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("p",{id:"content1",style:{textAlign:"center",marginTop:"-13px"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component);b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var Ce={width:"75px",height:"9px",position:"absolute"},Ie=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).sensorsDetails=function(){a.setState({sensorDet:[]}),console.log("sensorsDetails Page======>",x.sensors_details_macIds),b()({method:"GET",url:x.sensors_details_macIds}).then((function(e){if(200===e.status||201===e.status){var t=e.data;if(console.log("======>",e),0!==t.length){for(var s=[],n=0;n<t.length;n++){var i=t[n].timestamp.substring(0,19).replace("T"," "),r="red";new Date-new Date(i)<=12e4&&(r="green"),s.push({sno:(n+1).toString(),macid:t[n].MACID,lastseen:i,status:r})}a.setState({sensorDet:s})}}})).catch((function(e){console.log("error=====>",e),403===e.response.status?(P()("#sensor-displayModal").css("display","block"),P()("#content").text("User Session has timed out."),P()("#content1").text("Please Login again.")):P()("#sensor_error").text("Request Failed with status code ("+e.response.status+").")}))},a.sessionTimeout=function(){P()("#sensor-displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),a.props.handleLogin(0)},a.storeMacId=function(e){console.log("###################",e),localStorage.setItem("sensor_macid",JSON.stringify({macId:e}))},a.state={lastseen:"",macId:"",sensorDet:[]},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){localStorage.removeItem("sensor_macid"),this.sensorsDetails()}},{key:"render",value:function(){var e=this,t=this.state.sensorDet;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Sensor Details"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"Sensor Details"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:Ce}),Object(f.jsxs)("div",{className:"container fading",children:[Object(f.jsx)("p",{className:"error-msg",id:"sensor_error"}),Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("table",{style:{marginTop:"20px",marginBottom:"30px"},children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sl.No"}),Object(f.jsx)("th",{children:"MAC ID"}),Object(f.jsx)("th",{children:"Last Seen"}),Object(f.jsx)("th",{children:"Status"}),Object(f.jsx)("th",{children:"Details"})]})}),Object(f.jsx)("tbody",{id:"sensorTable",children:t.map((function(t,s){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:t.sno}),Object(f.jsx)("td",{children:t.macid}),Object(f.jsx)("td",{children:t.lastseen}),Object(f.jsx)("td",{children:"red"===t.status?Object(f.jsx)("div",{className:"circle",style:{margin:"auto",backgroundColor:"red"}}):Object(f.jsx)("div",{className:"circle",style:{margin:"auto",backgroundColor:"green"}})}),Object(f.jsx)("td",{children:Object(f.jsx)(h.b,{to:"/sensordetailscards",onClick:function(){return e.storeMacId(t.macid)},children:Object(f.jsx)("img",{src:"../images/Icons/sensor_info.png",alt:"",style:{width:"25px"}})})})]},s)}))})]})})]})]}),Object(f.jsx)("div",{id:"sensor-displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("p",{id:"content1",style:{textAlign:"center",marginTop:"-13px"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),Se=s(39),De=(s(93),s.p+"static/media/AstraZeneca_logo.e51859d3.png");b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var Me={width:"75px",height:"9px",position:"absolute"},Ee=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).sensorsDetails=function(e){console.log("sensorsDetails Card Page%%%%%%%%====>",x.sensors_details_macId_details+"?macaddress="+e),b()({method:"GET",url:x.sensors_details_macId_details+"?macaddress="+e}).then((function(e){if(200===e.status||201===e.status){var t=e.data;if(console.log("======>",e),0!==e.data.length){a.setState({lastseen:t[0].timestamp.substring(0,19).replace("T"," ")});for(var s=0;s<t.length;s++)P()("#0 .card  #sensor_value").text(t[s].Temp.toFixed(2)),P()("#1 .card  #sensor_value").text(t[s].Humi.toFixed(2)),P()("#2 .card  #sensor_value").text(t[s].Co2.toFixed(2)),P()("#3 .card  #sensor_value").text(t[s].O2.toFixed(2)),P()("#4 .card  #sensor_value").text(t[s].VOC.toFixed(2)),P()("#5 .card  #sensor_value").text(t[s].PtSize.toFixed(2)),P()("#6 .card  #sensor_value").text(t[s].PM1.toFixed(2)),P()("#7 .card  #sensor_value").text(t[s].PM2.toFixed(2)),P()("#8 .card  #sensor_value").text(t[s].PM4.toFixed(2)),P()("#9 .card  #sensor_value").text(t[s].PM10.toFixed(2))}}})).catch((function(e){console.log("error=====>",e),403===e.response.status?(P()("#report-displayModal").css("display","block"),P()("#content").text("User Session has timed out."),P()("#content1").text("Please Login again.")):P()("#report-error").text("Request Failed with status code ("+e.response.status+").")}))},a.sessionTimeout=function(){P()("#report-displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),a.props.handleLogin(0)},a.cardDatas=function(e,t){localStorage.setItem("sensor_macid",JSON.stringify({macId:a.state.macId,column:t})),window.location.pathname="/sensordetailsgraph",console.log("-------\x3e",e)},a.downloadpdf=function(){console.log("DOWNLOAD PDfffff-----\x3e",a.state.macId);var e=a.state.macId.toString(),t=new Se.default;t.autoTable({showHead:"everyPage",didDrawPage:function(s){t.addImage(De,"PNG",70,10,70,20),t.setFontSize(20),t.setTextColor(100),t.text("Facility Environmental Parameters",50,40),t.setLineWidth(1),t.line(10,45,200,45),t.setFontSize(14),t.setTextColor(20),t.text("Tower : ",15,55),t.setFontSize(14),t.setTextColor(70),t.text("-",35,55),t.setFontSize(14),t.setTextColor(20),t.text("Date : ",145,55),t.setFontSize(14),t.setTextColor(70),t.text((new Date).toISOString().slice(0,10),163,55),t.setFontSize(14),t.setTextColor(20),t.text("Floor : ",15,65),t.setFontSize(14),t.setTextColor(70),t.text("-",35,65),t.setFontSize(14),t.setTextColor(20),t.text("Zone : ",15,75),t.setFontSize(14),t.setTextColor(70),t.text("-",35,75),t.setFontSize(14),t.setTextColor(20),t.text("Sensor ID : ",15,85),t.setFontSize(14),t.setTextColor(70),t.text(e,45,85)},theme:"grid",margin:{top:90,right:14,bottom:0,left:14},styles:{halign:"center"},head:[["SL.NO","PARAMETERS","UNITS","RESULTS","LIMITS","STANDARD REFERENCE"]],body:[["1","RELATIVE HUMIDITY","%",P()("#1 .card  #sensor_value").text(),"30 to 60","ASHRAE"],["2","TEMPERATURE","\xb0C",P()("#0 .card  #sensor_value").text(),"*","ASHRAE"],["3","RESPIRABLE PARTICULATE","mg/m\xb3","--","0.05","ASHRAE"],["4","CARBON MONOXIDE(CO)","mg/m\xb3","--","9","ASHRAE"],["5","OXYGEN(O2)","%",P()("#3 .card  #sensor_value").text(),">19.5","OSHA'S"],["6","CARBON DIOXIDE(CO2)","PPM",P()("#2 .card  #sensor_value").text(),"1000","ASHRAE"],["7","HEAT STRESS","\xb0C","--","**","OSHA'S"],["8","INDOOR AIR QUALITY (IAQ)","--",P()("#4 .card  #sensor_value").text(),"--","--"],["9","PARTICAL SIZE (PtSIZE)","mm/1000",P()("#5 .card  #sensor_value").text(),"--","--"]]}),t.save("Report.pdf")},a.state={lastseen:"",macId:""},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("sensor_macid"),s=JSON.parse(t);console.log(s.macId,"Sensors Macid-------\x3e",s),this.setState({macId:s.macId}),this.sensorsDetails(s.macId),this.interval1=setInterval((function(){return e.sensorsDetails(s.macId)}),15e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval1)}},{key:"render",value:function(){var e=this,t=this.state,s=t.macId,n=t.lastseen;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Sensor Details"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"Sensor Details"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:Me}),Object(f.jsxs)("p",{style:{fontSize:"23px",marginTop:"40px"},children:["MAC ID :  ",s," \xa0\xa0\xa0\xa0\xa0\xa0 Last Updated :  ",n,"\xa0\xa0\xa0\xa0\xa0\xa0",Object(f.jsxs)("button",{className:"sensor_pdf_button",onClick:this.downloadpdf,children:["Report",Object(f.jsx)("span",{children:Object(f.jsx)("i",{className:"fa fa-arrow-circle-o-down",style:{marginLeft:"5px",fontSize:"23px"}})})]})]}),Object(f.jsxs)("div",{className:"container fading",children:[Object(f.jsx)("p",{className:"error-msg",id:"report-error"}),Object(f.jsxs)("div",{className:"container",style:{paddingBottom:"20px"},children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"column",id:"0",onClick:function(){return e.cardDatas("0","Temp")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"Temperature (\xb0C)"}),Object(f.jsx)("p",{style:{marginLeft:"-40px"},children:Object(f.jsx)("span",{id:"sensor_value"})})]})}),Object(f.jsx)("div",{className:"column",id:"1",onClick:function(){return e.cardDatas("1","Humi")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"Humidity (%RH)"}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{id:"sensor_value"})})]})}),Object(f.jsx)("div",{className:"column",id:"2",onClick:function(){return e.cardDatas("2","Co2")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"CO2 (ppm)"}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{id:"sensor_value"})})]})})]}),Object(f.jsx)("p",{className:"cardHeading",children:"IAQ Index"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"column",id:"3",onClick:function(){return e.cardDatas("3","VOC")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"VOC"}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{id:"sensor_value"})})]})})}),Object(f.jsx)("p",{className:"cardHeading",children:"O2 Details"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"column",id:"4",onClick:function(){return e.cardDatas("4","O2")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"O2 (%)"}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{id:"sensor_value"})})]})})}),Object(f.jsx)("p",{className:"cardHeading",children:"Respiratory Particulate Matter(PM)"}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"column",id:"5",onClick:function(){return e.cardDatas("5","PM1")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"PM1.0"}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{id:"sensor_value"})})]})}),Object(f.jsx)("div",{className:"column",id:"6",onClick:function(){return e.cardDatas("6","PM2")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"PM2.5"}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{id:"sensor_value"})})]})}),Object(f.jsx)("div",{className:"column",id:"7",onClick:function(){return e.cardDatas("7","PM4")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"PM4.0"}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{id:"sensor_value"})})]})}),Object(f.jsx)("div",{className:"column",id:"8",onClick:function(){return e.cardDatas("8","PM10")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"PM10.0"}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{id:"sensor_value"})})]})})]}),Object(f.jsx)("p",{className:"cardHeading",children:"Particulate Size(PtSize)"}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"column",id:"9",onClick:function(){return e.cardDatas("9","PtSize")},children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{children:"PtSize"}),Object(f.jsx)("p",{children:Object(f.jsx)("span",{id:"sensor_value"})})]})})})]})]})]}),Object(f.jsx)("div",{id:"report-displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("p",{id:"content1",style:{textAlign:"center",marginTop:"-13px"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.PureComponent);b.a.defaults.xsrfHeaderName="x-csrftoken",b.a.defaults.xsrfCookieName="csrftoken",b.a.defaults.withCredentials=!0;var Pe={width:"75px",height:"9px",position:"absolute"},Ae=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).sensorData=function(e,t){console.log(e,t,"sensorData Graph Page======>",x.sensors_details_macId_details),P()("#sensor_details_graph").css("display","none"),a.setState({loading:!0}),console.log("Data MACID=---\x3e",e),b()({method:"POST",url:x.sensors_details_macId_details,data:{column:t,mac:e}}).then((function(s){var n=s.data;if(console.log("Response ======>",s.data),0!==n.length&&200===s.status){var i=[],r=[],l=1,o="";if(n.length>100&&(l=Math.ceil(n.length/100)),"Temp"===t)for(var c=0;c<n.length;c+=l)i.push(n[c].timestamp.substring(11,19)),r.push(n[c].Temp),o="Temperature";else if("Humi"===t)for(var d=0;d<n.length;d+=l)i.push(n[d].timestamp.substring(11,19)),r.push(n[d].Humi),o="Humidity";else if("Co2"===t)for(var p=0;p<n.length;p+=l)i.push(n[p].timestamp.substring(11,19)),r.push(n[p].Co2),o="CO2";else if("VOC"===t)for(var h=0;h<n.length;h+=l)i.push(n[h].timestamp.substring(11,19)),r.push(n[h].VOC),o="VOC";else if("O2"===t)for(var u=0;u<n.length;u+=l)i.push(n[u].timestamp.substring(11,19)),r.push(n[u].O2),o="O2";else if("PM1"===t)for(var m=0;m<n.length;m+=l)i.push(n[m].timestamp.substring(11,19)),r.push(n[m].PM1),o="PM1";else if("PM2"===t)for(var g=0;g<n.length;g+=l)i.push(n[g].timestamp.substring(11,19)),r.push(n[g].PM2),o="PM2";else if("PM4"===t)for(var j=0;j<n.length;j+=l)i.push(n[j].timestamp.substring(11,19)),r.push(n[j].PM4),o="PM4";else if("PM10"===t)for(var b=0;b<n.length;b+=l)i.push(n[b].timestamp.substring(11,19)),r.push(n[b].PM10),o="PM10";else if("PtSize"===t)for(var x=0;x<n.length;x+=l)i.push(n[x].timestamp.substring(11,19)),r.push(n[x].PtSize),o="PtSize";P()("#sensor_details_graph").css("display","block"),P()("#chartID").text(e),0!==P()("#daily_chart").children().length&&P()("#tempChart").remove();var f=document.createElement("canvas");P()(f).attr("id","tempChart"),P()(f).attr("width","50px"),P()(f).attr("height","20px"),P()("#daily_chart").append(f);var y=P()("#tempChart");new Z.a(y,{type:"line",data:{labels:i,datasets:[{label:o,data:r,backgroundColor:"red",borderColor:"red",borderWidth:2,pointRadius:.5,lineTension:.4}]},options:{responsive:!0,scales:{xAxes:[{ticks:{display:!0}}],yAxes:[{ticks:{beginAtZero:!0,min:0,stepSize:50}}]},plugins:{legend:{display:!0,position:"right",fontSize:35,fontWeight:"bold"}}}}),a.setState({loading:!1})}else P()("#report-error").text("No data found on MACID : "+a.state.macId),a.setState({loading:!1})})).catch((function(e){a.setState({loading:!1}),console.log("Graph Error====>",e),403===e.response.status?(P()("#report-displayModal").css("display","block"),P()("#content").text("User Session has timed out."),P()("#content1").text("Please Login again.")):P()("#report-error").text("Request Failed with status code ("+e.response.status+").")}))},a.sessionTimeout=function(){P()("#report-displayModal").css("display","none"),sessionStorage.setItem("isLoggedIn",0),a.props.handleLogin(0)},a.state={loading:!1,lastseen:"",macId:"",column:""},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("sensor_macid"),t=JSON.parse(e);console.log(t.macId,"Sensors Macid-------\x3e",t),this.sensorData(t.macId,t.column),this.setState({macId:t.macId})}},{key:"render",value:function(){var e=this.state.macId;return Object(f.jsxs)(a.Fragment,{children:[Object(f.jsx)(g.a,{children:Object(f.jsx)("title",{children:"Sensor Details"})}),Object(f.jsxs)("div",{className:"panel",children:[Object(f.jsx)("span",{className:"main-heading",children:"Sensor Details"}),Object(f.jsx)("br",{}),Object(f.jsx)("img",{alt:"",src:"../images/Tiles/Underline.png",style:Pe}),Object(f.jsxs)("p",{style:{fontSize:"23px",marginTop:"40px"},children:["Sensor MACID :  ",e]}),Object(f.jsxs)("div",{className:"container fading",children:[Object(f.jsx)("p",{className:"error-msg",id:"report-error"}),Object(f.jsx)("div",{className:"container",style:{paddingBottom:"20px"},children:Object(f.jsx)("div",{id:"sensor_details_graph",style:{display:"none"},children:Object(f.jsx)("div",{id:"daily_chart"})})})]})]}),this.state.loading&&Object(f.jsx)("div",{className:"spinner",children:Object(f.jsxs)("div",{style:{display:"flex",marginLeft:"50px"},children:[Object(f.jsx)("div",{className:"loader"}),Object(f.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold",marginTop:"7px",paddingLeft:"10px",color:"red"},children:"Please Wait..."})]})}),Object(f.jsx)("div",{id:"report-displayModal",className:"modal",children:Object(f.jsxs)("div",{className:"modal-content",children:[Object(f.jsx)("p",{id:"content",style:{textAlign:"center"}}),Object(f.jsx)("p",{id:"content1",style:{textAlign:"center",marginTop:"-13px"}}),Object(f.jsx)("button",{id:"ok",className:"btn-center btn success-btn",onClick:this.sessionTimeout,children:"OK"})]})})]})}}]),s}(a.Component),Le=function(e){Object(d.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(o.a)(this,s),(e=t.call(this)).handleUserLogin=function(t){e.setState({isLoggedIn:parseInt(t)})},e.state={isLoggedIn:parseInt(0)},e}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return 1===parseInt(sessionStorage.getItem("isLoggedIn"))?Object(f.jsxs)(h.a,{children:[Object(f.jsx)(N,{handleLogin:this.handleUserLogin}),Object(f.jsx)(C,{}),Object(f.jsxs)(u.d,{children:[Object(f.jsx)(u.b,{exact:!0,path:"/",children:Object(f.jsx)(u.a,{to:"/home"})}),Object(f.jsx)(u.b,{exact:!0,path:"/login",children:Object(f.jsx)(u.a,{to:"/home"})}),Object(f.jsx)(u.b,{exact:!0,path:"/home",render:function(t){return Object(f.jsx)(M,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/configuration",render:function(t){return Object(f.jsx)(W,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/uploadmap",render:function(t){return Object(f.jsx)(B,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/zoneconfig",render:function(t){return Object(f.jsx)(ke,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/tracking",render:function(t){return Object(f.jsx)(X,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/assets",render:function(t){return Object(f.jsx)($,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/systemhealth",render:function(t){return Object(f.jsx)(se,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/thermalmap",render:function(t){return Object(f.jsx)(le,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/dailyreport",render:function(t){return Object(f.jsx)(de,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/alerts",render:function(t){return Object(f.jsx)(ne,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/employeeRegistration",render:function(t){return Object(f.jsx)(ue,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/tagAllocation",render:function(t){return Object(f.jsx)(je,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/distanceTracking",render:function(t){return Object(f.jsx)(fe,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/airquality",render:function(t){return Object(f.jsx)(ve,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/vehicle",render:function(t){return Object(f.jsx)(Te,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/sensordetails",render:function(t){return Object(f.jsx)(Ie,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/sensordetailscards",render:function(t){return Object(f.jsx)(Ee,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}}),Object(f.jsx)(u.b,{exact:!0,path:"/sensordetailsgraph",render:function(t){return Object(f.jsx)(Ae,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}})]})]}):Object(f.jsxs)(h.a,{children:[Object(f.jsx)(u.b,{path:"/",children:Object(f.jsx)(u.a,{to:"/login"})}),Object(f.jsx)(u.b,{exact:!0,path:"/login",render:function(t){return Object(f.jsx)(y,Object(l.a)(Object(l.a)({},t),{},{handleLogin:e.handleUserLogin}))}})]})}}]),s}(a.Component);s(94),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(Le,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[95,1,3]]]);
//# sourceMappingURL=main.1de68cb7.chunk.js.map